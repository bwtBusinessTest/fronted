webpackJsonp([10],{"1owE":function(e,t,i){t=e.exports=i("FZ+f")(!0),t.push([e.i,".query-container{padding:10px;box-shadow:0 0 4px #ccc;position:relative;overflow:hidden;transition:height .5s}.query-container .query-btn{position:absolute;right:40px;bottom:18px}.query-container .draggable{position:absolute;right:0;bottom:18px;width:30px;height:30px;padding-left:5px;line-height:30px;text-align:center;border:1px solid #ccc;opacity:.5;display:none;border-radius:50%}.query-container:hover .draggable{display:block}.manage-container{margin-top:20px;padding:10px;box-shadow:0 0 4px #ccc}.manage-container .el-dialog_wrapper{left:200px;top:50px}.el-button{width:88px}.el-table{margin-top:20px}.page-container{text-align:right;padding-top:10px}.page-container .el-pagination{padding-right:0}.reset-dialog-width .el-dialog{width:30%}.reset-dialog-width .el-dialog p{text-align:center}.el-dialog__body{margin:20px 0 5px;border-top:1px solid #ccc;border-bottom:1px solid #ccc}.v-modal{transition:all .1s;left:200px;top:50px}.svg-icon{margin-right:5px}.user-manage{margin:30px auto 0;width:1120px}.user-manage .polish .el-form-item__label{width:68px}.user-manage .polish .el-form-item__content{width:175px}.user-manage .cancel-user{width:255px;margin:auto}.user-manage .manage-container .el-col{margin-right:30px}.user-manage .el-dialog__wrapper{top:50px;left:200px}","",{version:3,sources:["/Users/liwenhua/Documents/bwton/SourceCode/01.trunk/back-manage/src/views/userManage/index.vue"],names:[],mappings:"AACA,iBACE,aAAc,AACd,wBAAyB,AACzB,kBAAmB,AACnB,gBAAiB,AACjB,qBAAuB,CACxB,AACD,4BACI,kBAAmB,AACnB,WAAY,AACZ,WAAa,CAChB,AACD,4BACI,kBAAmB,AACnB,QAAS,AACT,YAAa,AACb,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,iBAAkB,AAClB,kBAAmB,AACnB,sBAAuB,AACvB,WAAa,AACb,aAAc,AACd,iBAAmB,CACtB,AACD,kCACI,aAAe,CAClB,AACD,kBACE,gBAAiB,AACjB,aAAc,AACd,uBAAyB,CAC1B,AACD,qCACI,WAAY,AACZ,QAAU,CACb,AACD,WACE,UAAY,CACb,AACD,UACE,eAAiB,CAClB,AACD,gBACE,iBAAkB,AAClB,gBAAkB,CACnB,AACD,+BACI,eAAiB,CACpB,AACD,+BACE,SAAW,CACZ,AACD,iCACI,iBAAmB,CACtB,AACD,iBACE,kBAAqB,AACrB,0BAA2B,AAC3B,4BAA8B,CAC/B,AACD,SACE,mBAAoB,AACpB,WAAY,AACZ,QAAU,CACX,AACD,UACE,gBAAkB,CACnB,AACD,aACE,mBAAoB,AACpB,YAAc,CACf,AACD,0CACI,UAAY,CACf,AACD,4CACI,WAAa,CAChB,AACD,0BACI,YAAa,AACb,WAAa,CAChB,AACD,uCACI,iBAAmB,CACtB,AACD,iCACI,SAAU,AACV,UAAY,CACf",file:"index.vue",sourcesContent:["\n.query-container {\n  padding: 10px;\n  box-shadow: 0 0 4px #ccc;\n  position: relative;\n  overflow: hidden;\n  transition: height .5s;\n}\n.query-container .query-btn {\n    position: absolute;\n    right: 40px;\n    bottom: 18px;\n}\n.query-container .draggable {\n    position: absolute;\n    right: 0;\n    bottom: 18px;\n    width: 30px;\n    height: 30px;\n    padding-left: 5px;\n    line-height: 30px;\n    text-align: center;\n    border: 1px solid #ccc;\n    opacity: 0.5;\n    display: none;\n    border-radius: 50%;\n}\n.query-container:hover .draggable {\n    display: block;\n}\n.manage-container {\n  margin-top: 20px;\n  padding: 10px;\n  box-shadow: 0 0 4px #ccc;\n}\n.manage-container .el-dialog_wrapper {\n    left: 200px;\n    top: 50px;\n}\n.el-button {\n  width: 88px;\n}\n.el-table {\n  margin-top: 20px;\n}\n.page-container {\n  text-align: right;\n  padding-top: 10px;\n}\n.page-container .el-pagination {\n    padding-right: 0;\n}\n.reset-dialog-width .el-dialog {\n  width: 30%;\n}\n.reset-dialog-width .el-dialog p {\n    text-align: center;\n}\n.el-dialog__body {\n  margin: 20px 0 5px 0;\n  border-top: 1px solid #ccc;\n  border-bottom: 1px solid #ccc;\n}\n.v-modal {\n  transition: all .1s;\n  left: 200px;\n  top: 50px;\n}\n.svg-icon {\n  margin-right: 5px;\n}\n.user-manage {\n  margin: 30px auto 0;\n  width: 1120px;\n}\n.user-manage .polish .el-form-item__label {\n    width: 68px;\n}\n.user-manage .polish .el-form-item__content {\n    width: 175px;\n}\n.user-manage .cancel-user {\n    width: 255px;\n    margin: auto;\n}\n.user-manage .manage-container .el-col {\n    margin-right: 30px;\n}\n.user-manage .el-dialog__wrapper {\n    top: 50px;\n    left: 200px;\n}\n"],sourceRoot:""}])},"2QJc":function(e,t,i){"use strict";(function(e){var a=i("Dd8w"),l=i.n(a),n=i("NYxO"),o={data:function(){return{scrollHeight:0,queryContainerShrink:!1}},computed:l()({},i.i(n.c)({isCollapse:function(e){return e.app.sidebar.opened}})),methods:{openNewAddModal:function(){var t=this;setTimeout(function(){t.isCollapse?document.querySelector(".v-modal")&&(document.querySelector(".v-modal").style.left="200px",e(".el-dialog__wrapper").css("left","200px")):(t.$nextTick(function(){document.querySelector(".v-modal").style.left="36px"}),document.querySelector(".v-modal")&&(document.querySelector(".v-modal").style.left="36px",e(".el-dialog__wrapper").css("left","36px"))),document.querySelector(".v-modal")&&(t.scrollHeight=e(document).scrollTop(),t.scrollHeight>=0&&t.scrollHeight<50?(document.querySelector(".v-modal").style.top=50-t.scrollHeight+"px",e(".el-dialog__wrapper").css("top",50-t.scrollHeight+"px")):(document.querySelector(".v-modal").style.top="0px",e(".el-dialog__wrapper").css("top","0px")))},100)},shrinkQueryArea:function(e){this.queryContainerShrink?(this.$refs.queryContainer.style.height=e+"px",this.queryContainerShrink=!1):(this.$refs.queryContainer.style.height="60px",this.queryContainerShrink=!0)}},watch:{isCollapse:function(t){document.querySelector(".v-modal")&&(t?(document.querySelector(".v-modal").style.left="200px",e(".el-dialog__wrapper").css("left","200px")):(document.querySelector(".v-modal").style.left="36px",e(".el-dialog__wrapper").css("left","36px")))}}};t.a=o}).call(t,i("7t+N"))},"9q5R":function(e,t,i){"use strict";(function(e){var a=i("Dd8w"),l=i.n(a),n=i("NYxO"),o={computed:l()({},i.i(n.b)(["buttonAuth"]),{buttonVisible:function(){var e=this,t={};return this.buttonAuth.forEach(function(i){i.menuParentCode===e.pageId&&(t[i.menuCode]=!0)}),t}}),mounted:function(){e(".el-dialog").draggable()}};t.a=o}).call(t,i("7t+N"))},RF35:function(e,t,i){"use strict";var a=i("Dd8w"),l=i.n(a),n=i("ms7A"),o=i("uD/V"),s=i("9q5R"),r=i("2QJc"),c=(i("qrRs"),i("NYxO"));t.a={name:"userManage",mixins:[s.a,r.a],data:function(){var e=this,t=function(t,i,a){e.userNameExist?a("用户名存在"):/[\u4e00-\u9fa5]/.test(i)?a("用户名不能有汉字"):a()};return{pageId:"201",form:{userNum:"",userName:"",userRole:"",userState:""},tableData:[],totalUsers:0,currentPage:1,pageSize:10,multipleSelection:[],dialogNewAddVisible:!1,dialogCheckVisible:!1,dialogModifyVisible:!1,dialogCancelVisible:!1,dialogPassResetVisible:!1,dialogFreezeVisible:!1,dialogUnfreezeVisible:!1,dialogRoleDistributeVisible:!1,dialogRightModifyVisible:!1,newAddUser:{userTitle:"",userName:"",telephone:"",callNum:"",email:"",remark:""},newAddUserRules:{userTitle:[{validator:t,trigger:"blur"},{required:!0,message:"请输入用户名称",trigger:"blur"},{max:20,message:"最长20个字符",trigger:"blur"}],userName:[{required:!0,message:"请输入用户姓名",trigger:"blur"},{max:20,message:"最长20个字符",trigger:"blur"}],telephone:[{message:"手机号码长度不符合要求",min:11,max:11,trigger:"blur"}],callNum:[{trigger:"blur",message:"最少1个字符最多20个字符",min:1,max:20}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"},{min:6,max:50,message:"最少6个字符最多50个字符",trigger:"blur"}],remark:[{min:1,max:10,message:"最少1个字符最多，最多100个字符",trigger:"blur"}]},modifyUserRules:{userName:[{validator:t,trigger:"blur"},{required:!0,message:"请输入用户名称",trigger:"blur"},{max:20,message:"最长20个字符",trigger:"blur"}],realName:[{required:!0,message:"请输入用户姓名",trigger:"blur"},{max:20,message:"最长20个字符",trigger:"blur"}],mobile:[{message:"手机号码长度不符合要求",min:11,max:11,trigger:"blur"}],phone:[{trigger:"blur",message:"最少1个字符最多20个字符",min:1,max:20}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"},{min:6,max:10,message:"最少6个字符最多50个字符",trigger:"blur"}],remark:[{min:1,max:10,message:"最少1个字符最多，最多100个字符",trigger:"blur"}]},userNameExist:!1,checkUserInfoData:{},modifyUserInfoData:{},cancelUserInfoData:{},labelPosition:"right",multipleSelectionRoleDis:[],roleDistributeData:[],checkedRoleData:[],rightsModifyData:[],checkedKeysData:[],menuList:[],userRoleOptions:[],userStateList:[],currentPage1:1,isCancel:!1,dialogVisibles:["dialogNewAddVisible","dialogCheckVisible","dialogModifyVisible","dialogCancelVisible","dialogPassResetVisible","dialogFreezeVisible","dialogUnfreezeVisible","dialogRoleDistributeVisible","dialogRightModifyVisible"],loading:!0,noTableData:" "}},created:function(){this.getPostList(),this.getUserList(void 0,!0),this.getUserStateList()},computed:l()({},i.i(c.c)({userInfo:function(e){return e.user.userInfo},openModals:function(e){return e.app.openModals}})),methods:l()({getPostList:function(){var e=this,t={pageSize:9999};i.i(o.f)({params:t}).then(function(t){"0000"===t.errcode&&(e.userRoleOptions=t.result.rows)})},addUserInfo:function(){this.dialogNewAddVisible=!0},handleNewAddUser:function(){var e=this;this.$refs.newAddUser.validate(function(t){if(!t)return!1;var a={userName:e.newAddUser.userTitle,realName:e.newAddUser.userName,mobile:e.newAddUser.telephone||null,phone:e.newAddUser.callNum||null,email:e.newAddUser.email||null,remark:e.newAddUser.others||null};i.i(n.e)({params:a}).then(function(t){"0000"===t.errcode&&(e.$notify({title:"成功",message:"添加用户成功",type:"success",duration:1e3}),e.dialogNewAddVisible=!1,e.getUserList())})})},checkUserInfo:function(){var e=this;1===this.multipleSelection.length?i.i(n.f)({params:this.multipleSelection[0].id}).then(function(t){"0000"===t.errcode&&(e.checkUserInfoData=t.result,e.dialogCheckVisible=!0)}):this.$notify.warning({title:"消息",message:0===this.multipleSelection.length?"请选择一条用户查看":"只能选择一条用户查看",duration:600})},modifyUserInfo:function(){var e=this;1===this.multipleSelection.length?i.i(n.f)({params:this.multipleSelection[0].id}).then(function(t){"0000"===t.errcode&&(e.modifyUserInfoData=t.result,e.dialogModifyVisible=!0)}):this.$notify.warning({title:"消息",message:0===this.multipleSelection.length?"请选择一条用户修改":"只能选择一条用户修改",duration:600})},handleModifyUser:function(){var e=this;this.$refs.modifyUserForm.validate(function(t){if(!t)return!1;var a={id:e.modifyUserInfoData.id,realName:e.modifyUserInfoData.realName,mobile:e.modifyUserInfoData.mobile,phone:e.modifyUserInfoData.phone,email:e.modifyUserInfoData.email,remark:e.modifyUserInfoData.remark};i.i(n.d)({params:a}).then(function(t){"0000"===t.errcode&&(e.$notify({title:"成功",message:"修改用户成功",type:"success",duration:1e3}),e.dialogModifyVisible=!1,e.getUserList(e.currentPage))})})},cancleUserInfo:function(e){1===this.multipleSelection.length?(this.cancelUserInfoData=l()({},this.multipleSelection[0]),"cancel"===e?"3"===this.cancelUserInfoData.status?this.$notify({title:"警告",message:"此用户已注销",type:"warning",duration:1e3}):(this.cancelUserInfoData.reason="",this.dialogCancelVisible=!0):"freeze"===e?"2"===this.cancelUserInfoData.status?this.$notify({title:"警告",message:"此用户已冻结",type:"warning",duration:1e3}):(this.cancelUserInfoData.reason="",this.dialogFreezeVisible=!0):"2"===this.cancelUserInfoData.status?(this.cancelUserInfoData.reason="",this.dialogUnfreezeVisible=!0):this.$notify({title:"警告",message:"此用户不需要解冻",type:"warning",duration:1e3})):this.$notify.warning({title:"消息",message:0===this.multipleSelection.length?"请选择一条用户修改":"只能选择一条用户修改",duration:600})},handleCancelUser:function(){var e=this,t={id:this.cancelUserInfoData.id,reason:this.cancelUserInfoData.reason||""};i.i(n.g)({params:t}).then(function(t){"0000"===t.errcode&&(e.$notify({title:"成功",message:"注销用户成功",type:"success",duration:1e3}),e.dialogCancelVisible=!1,e.getUserList(e.currentPage))})},handleFreezeUser:function(){var e=this,t={id:this.cancelUserInfoData.id,reason:this.cancelUserInfoData.reason||""};i.i(n.h)({params:t}).then(function(t){"0000"===t.errcode&&(e.$notify({title:"成功",message:"冻结用户成功",type:"success",duration:1e3}),e.dialogFreezeVisible=!1,e.getUserList(e.currentPage))})},handleUnfreezeUser:function(){var e=this,t={id:this.cancelUserInfoData.id,reason:this.cancelUserInfoData.reason||""};i.i(n.i)({params:t}).then(function(t){"0000"===t.errcode&&(e.$notify({title:"成功",message:"解冻用户成功",type:"success",duration:1e3}),e.dialogUnfreezeVisible=!1,e.getUserList(e.currentPage))})},resetPassword:function(){1===this.multipleSelection.length?this.dialogPassResetVisible=!0:this.$notify.warning({title:"消息",message:0===this.multipleSelection.length?"请选择一条用户修改":"只能选择一条用户修改",duration:600})},handleResetPassword:function(){var e=this;i.i(n.j)({params:this.multipleSelection[0].id}).then(function(t){(t.errcode="0000")&&(e.$notify({title:"成功",message:"重置密码成功",type:"success",duration:1e3}),e.dialogPassResetVisible=!1)})},queryUserList:function(){this.getUserList(this.currentPage)},getUserList:function(e,t){var a=this,l=e||1,o={pageNo:l,pageSize:this.pageSize,id:this.form.userNum||null,userName:this.form.userName||null,status:this.form.userState||null,roleId:this.form.userRole};i.i(n.k)({params:o}).then(function(e){if(a.totalUsers=e.result.totalCount,a.tableData=e.result.rows.filter(function(e){return e}),a.loading=!1,t){var i=a.openModals.find(function(e){return e.pageId===a.pageId});i&&"dialogNewAddVisible"===i.openModal?(a.newAddUser=i.data,a[i.openModal]=!0):i&&a.$nextTick(function(){i.data.forEach(function(e){a.$refs.multipleTable.toggleRowSelection(a.tableData.find(function(t){return t.id===e.id}))}),"dialogCheckVisible"===i.openModal?a.checkUserInfo():"dialogModifyVisible"===i.openModal?a.modifyUserInfo():"dialogCancelVisible"===i.openModal?a.cancleUserInfo("cancel"):"dialogPassResetVisible"===i.openModal?a.resetPassword():"dialogFreezeVisible"===i.openModal?a.cancleUserInfo("freeze"):"dialogUnfreezeVisible"===i.openModal?a.cancleUserInfo("unfreeze"):"dialogRoleDistributeVisible"===i.openModal?a.roleDistribute():"dialogRightModifyVisible"===i.openModal&&a.modifyRights()})}})},getUserStateList:function(){var e=this;i.i(n.l)({params:{code:"1011"}}).then(function(t){"0000"===t.errcode&&(e.userStateList=t.result)})},sendValidateUser:function(e){var t=this,a="";a="newAdd"===e?this.newAddUser.userTitle:this.modifyUserInfoData.userName,a?i.i(n.b)({params:a}).then(function(e){e.result.isExist?t.userNameExist=!0:t.userNameExist=!1}):this.userNameExist=!1},clearQueryParams:function(){for(var e in this.form)this.form[e]=""},handleSelectionChange:function(e){this.multipleSelection=e},handleSelectionRoleDisChange:function(e){this.multipleSelectionRoleDis=e},handleCurrentChange:function(e){this.currentPage=e,this.getUserList(e)},handleSizeChange:function(e){this.pageSize=e,this.getUserList(this.currentPage)},clearNewAdd:function(){for(var e in this.newAddUser)this.newAddUser[e]="";this.$refs.newAddUser.resetFields(),this.userNameExist=!1},resetUserNameExist:function(){this.userNameExist=!1},roleDistribute:function(){var e=this;if(1===this.multipleSelection.length){var t=this.multipleSelection[0].id;i.i(n.m)({params:t}).then(function(t){"0000"===t.errcode&&(e.dialogRoleDistributeVisible=!0,e.roleDistributeData=t.result.roles,e.checkedRoleData=t.result.permissionIds,e.$nextTick(function(){this.checkedRole()}))})}else this.$notify.warning({title:"消息",message:0===this.multipleSelection.length?"请选择一条用户修改":"只能选择一条用户修改",duration:600})},checkedRole:function(){var e=this;this.roleDistributeData.forEach(function(t){e.isDistributeRole(t.id)?e.$refs.roleTable.toggleRowSelection(t,!0):e.$refs.roleTable.toggleRowSelection(t,!1)})},isDistributeRole:function(e){for(var t=0;t<this.checkedRoleData.length;t++)if(this.checkedRoleData[t]==e)return!0;return!1},setRolePermission:function(){var e=this,t=this.multipleSelection[0].id,a=this.buildRoleIds(),l={userId:t,roleIds:a};i.i(n.n)({params:l}).then(function(t){"0000"===t.errcode&&(e.$notify({title:"成功",message:"角色分配成功",type:"success",duration:1e3}),e.getUserList(e.currentPage),e.dialogRoleDistributeVisible=!1)})},handleRightsModifyChange:function(e,t,i){},buildRoleIds:function(){for(var e=new Array,t=0;t<this.multipleSelectionRoleDis.length;t++)e.push(this.multipleSelectionRoleDis[t].id);return e.join(",")},modifyRights:function(){var e=this;if(1===this.multipleSelection.length){var t=this.multipleSelection[0].id;i.i(n.o)({params:t}).then(function(t){"0000"===t.errcode&&(e.dialogRightModifyVisible=!0,e.rightsModifyData=[],e.rightsModifyData[0]=t.result.menuTree,e.checkedKeysData=t.result.permissionIds,e.menuList=t.result.menuList,e.$nextTick(function(){this.$refs.permissionDialog.scrollTop=0,this.checkedMenu()}))})}else this.$notify.warning({title:"消息",message:0===this.multipleSelection.length?"请选择一条用户修改":"只能选择一条用户修改",duration:600})},checkedMenu:function(){for(var e=0;e<this.menuList.length;e++)this.$refs.tree.setChecked(this.menuList[e].id,!1);for(var e=0;e<this.checkedKeysData.length;e++)this.$refs.tree.setChecked(this.checkedKeysData[e],!0)},findMenuId:function(e){return this.menuList.filter(function(t){return t.code===e})[0].id},setMenuPermission:function(){var e=this,t=this.multipleSelection[0].id,a=this.$refs.tree.getCheckedKeys().join(","),l={userId:t,menuIds:a};i.i(n.p)({params:l}).then(function(t){"0000"===t.errcode&&(e.$notify({title:"成功",message:"权限设置成功",type:"success",duration:1e3}),e.dialogRightModifyVisible=!1)})},checkSelectable:function(e,t){return!e.disabled||!this.isDistributeRole(e.id)}},i.i(c.d)({addOpenModals:"ADD_OPEN_MODALS",removeOpenModals:"REMOVE_OPEN_MODALS"})),watch:{multipleSelection:function(e){0===e.length?this.isCancel=!1:e.some(function(e){return"3"===e.status})?this.isCancel=!0:this.isCancel=!1}},beforeRouteEnter:function(e,t,i){i(function(e){})},beforeRouteLeave:function(e,t,i){var a,l=this,n=this.dialogVisibles.find(function(e){return l[e]});n?(a=n===this.dialogVisibles[0]?this.newAddUser:this.multipleSelection,this.removeOpenModals({pageId:this.pageId}),this.addOpenModals({pageId:this.pageId,openModal:n,data:a})):this.removeOpenModals({pageId:this.pageId}),i()}}},Xhxm:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"user-manage"},[i("div",{staticClass:"query-container"},[i("el-form",{staticStyle:{width:"1072px",margin:"auto"},attrs:{inline:!0,model:e.form}},[i("el-form-item",{attrs:{label:"用户编号"}},[i("el-input",{attrs:{size:"small"},model:{value:e.form.userNum,callback:function(t){e.form.userNum=t},expression:"form.userNum"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"用户名称"}},[i("el-input",{attrs:{size:"small"},model:{value:e.form.userName,callback:function(t){e.form.userName=t},expression:"form.userName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"用户角色"}},[i("el-select",{attrs:{size:"small",filterable:"",clearable:""},model:{value:e.form.userRole,callback:function(t){e.form.userRole=t},expression:"form.userRole"}},e._l(e.userRoleOptions,function(e){return i("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"用户状态"}},[i("el-select",{attrs:{size:"small"},model:{value:e.form.userState,callback:function(t){e.form.userState=t},expression:"form.userState"}},e._l(e.userStateList,function(e){return i("el-option",{key:e.value,attrs:{label:e.caption,value:e.value}})}))],1)],1),e._v(" "),i("el-row",{staticStyle:{width:"1072px"},attrs:{type:"flex",justify:"end"}},[e.buttonVisible[20115]?i("el-col",{attrs:{span:3}},[i("el-button",{attrs:{size:"small",type:"primary",icon:"delete"},on:{click:e.clearQueryParams}},[e._v("清空")])],1):e._e(),e._v(" "),e.buttonVisible[20104]?i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{size:"small",type:"primary",icon:"search"},on:{click:e.queryUserList}},[e._v("查询")])],1):e._e()],1)],1),e._v(" "),i("div",{staticClass:"manage-container"},[i("el-row",{attrs:{type:"flex",justify:"start"}},[e.buttonVisible[20101]?i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{size:"small",type:"primary",icon:"plus"},on:{click:function(t){e.addUserInfo()}}},[e._v("新增")])],1):e._e(),e._v(" "),e.buttonVisible[20103]?i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{size:"small",type:"primary",icon:"check"},on:{click:e.checkUserInfo}},[e._v("查看")])],1):e._e(),e._v(" "),e.buttonVisible[20105]&&!e.isCancel?i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{size:"small",type:"primary",icon:"edit"},on:{click:e.modifyUserInfo}},[e._v("修改")])],1):e._e(),e._v(" "),e.buttonVisible[20106]&&!e.isCancel?i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{size:"small",type:"primary",icon:"delete"},on:{click:function(t){e.cancleUserInfo("cancel")}}},[e._v("注销")])],1):e._e(),e._v(" "),e.buttonVisible[20109]&&!e.isCancel?i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{size:"small",type:"primary",icon:"setting"},on:{click:e.resetPassword}},[e._v("密码重置")])],1):e._e(),e._v(" "),e.buttonVisible[20107]&&!e.isCancel?i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{size:"small",type:"primary",icon:"circle-close"},on:{click:function(t){e.cancleUserInfo("freeze")}}},[e._v("冻结")])],1):e._e(),e._v(" "),e.buttonVisible[20108]&&!e.isCancel?i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{size:"small",type:"primary",icon:"view"},on:{click:function(t){e.cancleUserInfo("unfreeze")}}},[e._v("解冻")])],1):e._e(),e._v(" "),e.buttonVisible[20110]&&!e.isCancel?i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{size:"small",type:"primary",icon:"menu"},on:{click:e.roleDistribute}},[e._v("角色分配")])],1):e._e(),e._v(" "),e.buttonVisible[20111]&&!e.isCancel?i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{size:"small",type:"primary",icon:"minus"},on:{click:e.modifyRights}},[e._v("权限修改")])],1):e._e()],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{data:e.tableData,border:"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)","empty-text":e.noTableData},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection"}}),e._v(" "),i("el-table-column",{attrs:{label:"用户编号",prop:"id"}}),e._v(" "),i("el-table-column",{attrs:{label:"用户名称",prop:"userName"}}),e._v(" "),i("el-table-column",{attrs:{label:"角色名称",prop:"roleName"}}),e._v(" "),i("el-table-column",{attrs:{label:"用户状态",prop:"statusDesc"}})],1),e._v(" "),i("div",{staticClass:"page-container"},[i("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper",total:e.totalUsers,"page-size":e.pageSize,"page-sizes":[10,20,30]},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"新增用户",visible:e.dialogNewAddVisible,"close-on-click-modal":!1},on:{close:e.clearNewAdd,"update:visible":function(t){e.dialogNewAddVisible=t},open:e.openNewAddModal}},[i("el-form",{ref:"newAddUser",staticStyle:{width:"540px",margin:"auto"},attrs:{inline:!0,model:e.newAddUser,"label-width":"78px",rules:e.newAddUserRules}},[i("el-form-item",{attrs:{label:"用户名称",prop:"userTitle"}},[i("el-input",{on:{input:function(t){e.sendValidateUser("newAdd")}},model:{value:e.newAddUser.userTitle,callback:function(t){e.newAddUser.userTitle=t},expression:"newAddUser.userTitle"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"用户姓名",prop:"userName"}},[i("el-input",{model:{value:e.newAddUser.userName,callback:function(t){e.newAddUser.userName=t},expression:"newAddUser.userName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"手机号码",prop:"telephone"}},[i("el-input",{model:{value:e.newAddUser.telephone,callback:function(t){e.newAddUser.telephone=t},expression:"newAddUser.telephone"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"联系电话",prop:"callNum"}},[i("el-input",{model:{value:e.newAddUser.callNum,callback:function(t){e.newAddUser.callNum=t},expression:"newAddUser.callNum"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"电子邮件",prop:"email"}},[i("el-input",{model:{value:e.newAddUser.email,callback:function(t){e.newAddUser.email=t},expression:"newAddUser.email"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"remark"}},[i("el-input",{model:{value:e.newAddUser.remark,callback:function(t){e.newAddUser.remark=t},expression:"newAddUser.remark"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.handleNewAddUser}},[e._v("确 定")]),e._v(" "),i("el-button",{on:{click:function(t){e.dialogNewAddVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"查看用户",visible:e.dialogCheckVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogCheckVisible=t},open:e.openNewAddModal}},[i("el-form",{staticStyle:{width:"530px",margin:"auto"},attrs:{inline:!0,model:e.checkUserInfoData}},[i("el-form-item",{attrs:{label:"用户名称"}},[i("el-input",{attrs:{disabled:""},model:{value:e.checkUserInfoData.userName,callback:function(t){e.checkUserInfoData.userName=t},expression:"checkUserInfoData.userName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"用户姓名"}},[i("el-input",{attrs:{disabled:""},model:{value:e.checkUserInfoData.realName,callback:function(t){e.checkUserInfoData.realName=t},expression:"checkUserInfoData.realName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"手机号码"}},[i("el-input",{attrs:{disabled:""},model:{value:e.checkUserInfoData.mobile,callback:function(t){e.checkUserInfoData.mobile=t},expression:"checkUserInfoData.mobile"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"联系电话"}},[i("el-input",{attrs:{disabled:""},model:{value:e.checkUserInfoData.phone,callback:function(t){e.checkUserInfoData.phone=t},expression:"checkUserInfoData.phone"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"电子邮件"}},[i("el-input",{attrs:{disabled:""},model:{value:e.checkUserInfoData.email,callback:function(t){e.checkUserInfoData.email=t},expression:"checkUserInfoData.email"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"其他信息"}},[i("el-input",{attrs:{disabled:""},model:{value:e.checkUserInfoData.remark,callback:function(t){e.checkUserInfoData.remark=t},expression:"checkUserInfoData.remark"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogCheckVisible=!1}}},[e._v("确 定")]),e._v(" "),i("el-button",{on:{click:function(t){e.dialogCheckVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"修改用户",visible:e.dialogModifyVisible,"close-on-click-modal":!1},on:{close:e.resetUserNameExist,"update:visible":function(t){e.dialogModifyVisible=t},open:e.openNewAddModal}},[i("el-form",{ref:"modifyUserForm",staticStyle:{width:"540px",margin:"auto"},attrs:{inline:!0,model:e.modifyUserInfoData,rules:e.modifyUserRules,"label-width":"78px"}},[i("el-form-item",{attrs:{label:"用户名称",prop:"userTitle"}},[i("el-input",{attrs:{disabled:""},on:{input:function(t){e.sendValidateUser("modify")}},model:{value:e.modifyUserInfoData.userName,callback:function(t){e.modifyUserInfoData.userName=t},expression:"modifyUserInfoData.userName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"用户姓名",prop:"realName"}},[i("el-input",{model:{value:e.modifyUserInfoData.realName,callback:function(t){e.modifyUserInfoData.realName=t},expression:"modifyUserInfoData.realName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"手机号码",prop:"mobile"}},[i("el-input",{model:{value:e.modifyUserInfoData.mobile,callback:function(t){e.modifyUserInfoData.mobile=t},expression:"modifyUserInfoData.mobile"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[i("el-input",{model:{value:e.modifyUserInfoData.phone,callback:function(t){e.modifyUserInfoData.phone=t},expression:"modifyUserInfoData.phone"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"电子邮件",prop:"email"}},[i("el-input",{model:{value:e.modifyUserInfoData.email,callback:function(t){e.modifyUserInfoData.email=t},expression:"modifyUserInfoData.email"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"其他信息"}},[i("el-input",{model:{value:e.modifyUserInfoData.remark,callback:function(t){e.modifyUserInfoData.remark=t},expression:"modifyUserInfoData.remark"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.handleModifyUser}},[e._v("确 定")]),e._v(" "),i("el-button",{on:{click:function(t){e.dialogModifyVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"注销用户",visible:e.dialogCancelVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogCancelVisible=t},open:e.openNewAddModal}},[i("el-form",{staticClass:"cancel-user",attrs:{"label-width":"80px",model:e.cancelUserInfoData,"label-position":e.labelPosition}},[i("el-form-item",{attrs:{label:"用户编号"}},[i("el-input",{attrs:{disabled:""},model:{value:e.cancelUserInfoData.id,callback:function(t){e.cancelUserInfoData.id=t},expression:"cancelUserInfoData.id"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"用户名称"}},[i("el-input",{attrs:{disabled:""},model:{value:e.cancelUserInfoData.userName,callback:function(t){e.cancelUserInfoData.userName=t},expression:"cancelUserInfoData.userName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"注销原因"}},[i("el-input",{model:{value:e.cancelUserInfoData.reason,callback:function(t){e.cancelUserInfoData.reason=t},expression:"cancelUserInfoData.reason"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.handleCancelUser}},[e._v("确 定")]),e._v(" "),i("el-button",{on:{click:function(t){e.dialogCancelVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),i("el-dialog",{staticClass:"reset-dialog-width",attrs:{title:"密码重置",visible:e.dialogPassResetVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogPassResetVisible=t},open:e.openNewAddModal}},[i("div",{staticClass:"el-message-box__status el-icon-warning"}),i("p",{staticStyle:{"padding-left":"40px"}},[e._v("请确认是否重置密码？，默认密码111111")]),e._v(" "),i("div",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.handleResetPassword}},[e._v("确 定")]),e._v(" "),i("el-button",{on:{click:function(t){e.dialogPassResetVisible=!1}}},[e._v("取 消")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:"冻结用户",visible:e.dialogFreezeVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFreezeVisible=t},open:e.openNewAddModal}},[i("el-form",{staticClass:"cancel-user",attrs:{"label-width":"80px",model:e.cancelUserInfoData,"label-position":e.labelPosition}},[i("el-form-item",{attrs:{label:"用户编号"}},[i("el-input",{attrs:{disabled:""},model:{value:e.cancelUserInfoData.id,callback:function(t){e.cancelUserInfoData.id=t},expression:"cancelUserInfoData.id"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"用户名称"}},[i("el-input",{attrs:{disabled:""},model:{value:e.cancelUserInfoData.userName,callback:function(t){e.cancelUserInfoData.userName=t},expression:"cancelUserInfoData.userName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"冻结原因"}},[i("el-input",{model:{value:e.cancelUserInfoData.reason,callback:function(t){e.cancelUserInfoData.reason=t},expression:"cancelUserInfoData.reason"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.handleFreezeUser}},[e._v("确 定")]),e._v(" "),i("el-button",{on:{click:function(t){e.dialogFreezeVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"解冻用户",visible:e.dialogUnfreezeVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogUnfreezeVisible=t},open:e.openNewAddModal}},[i("el-form",{staticClass:"cancel-user",attrs:{"label-width":"80px",model:e.cancelUserInfoData,"label-position":e.labelPosition}},[i("el-form-item",{attrs:{label:"用户编号"}},[i("el-input",{attrs:{disabled:""},model:{value:e.cancelUserInfoData.id,callback:function(t){e.cancelUserInfoData.id=t},expression:"cancelUserInfoData.id"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"用户名称"}},[i("el-input",{attrs:{disabled:""},model:{value:e.cancelUserInfoData.userName,callback:function(t){e.cancelUserInfoData.userName=t},expression:"cancelUserInfoData.userName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"解冻原因"}},[i("el-input",{model:{value:e.cancelUserInfoData.reason,callback:function(t){e.cancelUserInfoData.reason=t},expression:"cancelUserInfoData.reason"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.handleUnfreezeUser}},[e._v("确 定")]),e._v(" "),i("el-button",{on:{click:function(t){e.dialogUnfreezeVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"角色分配",visible:e.dialogRoleDistributeVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogRoleDistributeVisible=t},open:e.openNewAddModal}},[i("el-table",{ref:"roleTable",attrs:{data:e.roleDistributeData,border:"","row-key":"id"},on:{"selection-change":e.handleSelectionRoleDisChange}},[i("el-table-column",{attrs:{type:"selection",selectable:e.checkSelectable,"reserve-selection":!0}}),e._v(" "),i("el-table-column",{attrs:{property:"roleNo",label:"角色编码"}}),e._v(" "),i("el-table-column",{attrs:{property:"roleName",label:"角色名称"}})],1),e._v(" "),i("div",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.setRolePermission}},[e._v("确 定")]),e._v(" "),i("el-button",{on:{click:function(t){e.dialogRoleDistributeVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"权限修改",visible:e.dialogRightModifyVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogRightModifyVisible=t},open:e.openNewAddModal}},[i("div",{ref:"permissionDialog",staticStyle:{height:"460px","overflow-y":"auto"}},[i("el-tree",{ref:"tree",attrs:{data:e.rightsModifyData,"show-checkbox":"","node-key":"id","default-checked-keys":e.checkedKeysData,"default-expand-all":!0},on:{"check-change":e.handleRightsModifyChange}})],1),e._v(" "),i("div",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.setMenuPermission}},[e._v("确 定")]),e._v(" "),i("el-button",{on:{click:function(t){e.dialogRightModifyVisible=!1}}},[e._v("取 消")])],1)])],1)},l=[],n={render:a,staticRenderFns:l};t.a=n},ZtU2:function(e,t,i){var a=i("1owE");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("rjj0")("368bd8c9",a,!0)},ms7A:function(e,t,i){"use strict";function a(e){var t=e.params;return i.i(v.a)({url:"/user/list",method:"post",data:t})}function l(e){var t=e.params;return i.i(v.a)({url:"/user/detail/"+t,method:"get"})}function n(e){var t=e.params;return i.i(v.a)({url:"user/add",method:"post",data:t})}function o(e){var t=e.params;return i.i(v.a)({url:"user/exist/"+t,method:"get"})}function s(e){var t=e.params;return i.i(v.a)({url:"user/modify",method:"post",data:t})}function r(e){var t=e.params;return i.i(v.a)({url:"user/cancel",method:"post",data:t})}function c(e){var t=e.params;return i.i(v.a)({url:"user/disable",method:"post",data:t})}function d(e){var t=e.params;return i.i(v.a)({url:"user/enable",method:"post",data:t})}function u(e){var t=e.params;return i.i(v.a)({url:"user/resetPwd/"+t,method:"get"})}function m(e){var t=e.params;return i.i(v.a)({url:"user/setNewPwd",method:"post",data:t})}function p(e){var t=e.params;return i.i(v.a)({url:"user/role/"+t,method:"get"})}function f(e){var t=e.params;return i.i(v.a)({url:"user/menu/"+t,method:"get"})}function g(e){var t=e.params;return i.i(v.a)({url:"user/setRolePermission",method:"post",data:t})}function h(e){var t=e.params;return i.i(v.a)({url:"user/setMenuPermission",method:"post",data:t})}function b(e){var t=e.params;return i.i(v.a)({url:"user/detail/"+t,method:"get"})}function A(e){var t=e.params;return i.i(v.a)({url:"/dict/getDictByCode",method:"post",data:t})}t.k=a,t.c=l,t.e=n,t.b=o,t.d=s,t.g=r,t.h=c,t.i=d,t.j=u,t.a=m,t.m=p,t.o=f,t.n=g,t.p=h,t.f=b,t.l=A;var v=i("Vo7i")},smzg:function(e,t,i){"use strict";function a(e){i("ZtU2")}Object.defineProperty(t,"__esModule",{value:!0});var l=i("RF35"),n=i("Xhxm"),o=i("VU/8"),s=a,r=o(l.a,n.a,s,null,null);t.default=r.exports},"uD/V":function(e,t,i){"use strict";function a(e){var t=e.params;return i.i(u.a)({url:"/role/list",method:"post",data:t})}function l(e){var t=e.params;return i.i(u.a)({url:"role/add",method:"post",data:t})}function n(e){var t=e.params;return i.i(u.a)({url:"role/existNo/"+t,method:"get"})}function o(e){var t=e.params;return i.i(u.a)({url:"role/existName/"+t,method:"get"})}function s(e){var t=e.params;return i.i(u.a)({url:"role/modify",method:"post",data:t})}function r(e){var t=e.params;return i.i(u.a)({url:"role/remove/"+t,method:"get"})}function c(e){var t=e.params;return i.i(u.a)({url:"role/menu/"+t,method:"get"})}function d(e){var t=e.params;return i.i(u.a)({url:"role/setPermission",method:"post",data:t})}t.f=a,t.a=l,t.g=n,t.h=o,t.b=s,t.c=r,t.d=c,t.e=d;var u=i("Vo7i")}});
//# sourceMappingURL=10.febece4a1f657009b68e.js.map
webpackJsonp([20],{"/TOs":function(t,e,a){var r=a("GV6b");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("3b6855fd",r,!0)},"9q5R":function(t,e,a){"use strict";(function(t){var r=a("Dd8w"),n=a.n(r),i=a("NYxO"),o={computed:n()({},a.i(i.b)(["buttonAuth"]),{buttonVisible:function(){var t=this,e={};return this.buttonAuth.forEach(function(a){a.menuParentCode===t.pageId&&(e[a.menuCode]=!0)}),e}}),mounted:function(){t(".el-dialog").draggable()}};e.a=o}).call(e,a("7t+N"))},GV6b:function(t,e,a){e=t.exports=a("FZ+f")(!0),e.push([t.i,".query-container[data-v-096b73d4]{padding:10px;box-shadow:0 0 4px #ccc;position:relative;overflow:hidden;transition:height .5s}.query-container .query-btn[data-v-096b73d4]{position:absolute;right:40px;bottom:18px}.query-container .draggable[data-v-096b73d4]{position:absolute;right:0;bottom:18px;width:30px;height:30px;padding-left:5px;line-height:30px;text-align:center;border:1px solid #ccc;opacity:.5;display:none;border-radius:50%}.query-container:hover .draggable[data-v-096b73d4]{display:block}.manage-container[data-v-096b73d4]{margin-top:20px;padding:10px;box-shadow:0 0 4px #ccc}.manage-container .el-dialog_wrapper[data-v-096b73d4]{left:200px;top:50px}.el-button[data-v-096b73d4]{width:88px}.el-table[data-v-096b73d4]{margin-top:20px}.page-container[data-v-096b73d4]{text-align:right;padding-top:10px}.page-container .el-pagination[data-v-096b73d4]{padding-right:0}.reset-dialog-width .el-dialog[data-v-096b73d4]{width:30%}.reset-dialog-width .el-dialog p[data-v-096b73d4]{text-align:center}.el-dialog__body[data-v-096b73d4]{margin:20px 0 5px;border-top:1px solid #ccc;border-bottom:1px solid #ccc}.v-modal[data-v-096b73d4]{transition:all .1s;left:200px;top:50px}.svg-icon[data-v-096b73d4]{margin-right:5px}.order-detail[data-v-096b73d4]{margin:30px auto 0;width:1120px}.order-detail .manage-container .order-info[data-v-096b73d4]{display:-webkit-box;display:-ms-flexbox;display:flex}.order-detail .manage-container .order-info div[data-v-096b73d4]{margin-right:40px}.order-detail .manage-container .order-info div[data-v-096b73d4]:first-child{width:230px}","",{version:3,sources:["/Users/liwenhua/Documents/bwton/SourceCode/01.trunk/back-manage/src/views/cardGroupManage/orderDetail.vue"],names:[],mappings:"AACA,kCACE,aAAc,AACd,wBAAyB,AACzB,kBAAmB,AACnB,gBAAiB,AACjB,qBAAuB,CACxB,AACD,6CACI,kBAAmB,AACnB,WAAY,AACZ,WAAa,CAChB,AACD,6CACI,kBAAmB,AACnB,QAAS,AACT,YAAa,AACb,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,iBAAkB,AAClB,kBAAmB,AACnB,sBAAuB,AACvB,WAAa,AACb,aAAc,AACd,iBAAmB,CACtB,AACD,mDACI,aAAe,CAClB,AACD,mCACE,gBAAiB,AACjB,aAAc,AACd,uBAAyB,CAC1B,AACD,sDACI,WAAY,AACZ,QAAU,CACb,AACD,4BACE,UAAY,CACb,AACD,2BACE,eAAiB,CAClB,AACD,iCACE,iBAAkB,AAClB,gBAAkB,CACnB,AACD,gDACI,eAAiB,CACpB,AACD,gDACE,SAAW,CACZ,AACD,kDACI,iBAAmB,CACtB,AACD,kCACE,kBAAqB,AACrB,0BAA2B,AAC3B,4BAA8B,CAC/B,AACD,0BACE,mBAAoB,AACpB,WAAY,AACZ,QAAU,CACX,AACD,2BACE,gBAAkB,CACnB,AACD,+BACE,mBAAoB,AACpB,YAAc,CACf,AACD,6DACI,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CACjB,AACD,iEACM,iBAAmB,CACxB,AACD,6EACQ,WAAa,CACpB",file:"orderDetail.vue",sourcesContent:["\n.query-container[data-v-096b73d4] {\n  padding: 10px;\n  box-shadow: 0 0 4px #ccc;\n  position: relative;\n  overflow: hidden;\n  transition: height .5s;\n}\n.query-container .query-btn[data-v-096b73d4] {\n    position: absolute;\n    right: 40px;\n    bottom: 18px;\n}\n.query-container .draggable[data-v-096b73d4] {\n    position: absolute;\n    right: 0;\n    bottom: 18px;\n    width: 30px;\n    height: 30px;\n    padding-left: 5px;\n    line-height: 30px;\n    text-align: center;\n    border: 1px solid #ccc;\n    opacity: 0.5;\n    display: none;\n    border-radius: 50%;\n}\n.query-container:hover .draggable[data-v-096b73d4] {\n    display: block;\n}\n.manage-container[data-v-096b73d4] {\n  margin-top: 20px;\n  padding: 10px;\n  box-shadow: 0 0 4px #ccc;\n}\n.manage-container .el-dialog_wrapper[data-v-096b73d4] {\n    left: 200px;\n    top: 50px;\n}\n.el-button[data-v-096b73d4] {\n  width: 88px;\n}\n.el-table[data-v-096b73d4] {\n  margin-top: 20px;\n}\n.page-container[data-v-096b73d4] {\n  text-align: right;\n  padding-top: 10px;\n}\n.page-container .el-pagination[data-v-096b73d4] {\n    padding-right: 0;\n}\n.reset-dialog-width .el-dialog[data-v-096b73d4] {\n  width: 30%;\n}\n.reset-dialog-width .el-dialog p[data-v-096b73d4] {\n    text-align: center;\n}\n.el-dialog__body[data-v-096b73d4] {\n  margin: 20px 0 5px 0;\n  border-top: 1px solid #ccc;\n  border-bottom: 1px solid #ccc;\n}\n.v-modal[data-v-096b73d4] {\n  transition: all .1s;\n  left: 200px;\n  top: 50px;\n}\n.svg-icon[data-v-096b73d4] {\n  margin-right: 5px;\n}\n.order-detail[data-v-096b73d4] {\n  margin: 30px auto 0;\n  width: 1120px;\n}\n.order-detail .manage-container .order-info[data-v-096b73d4] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n.order-detail .manage-container .order-info div[data-v-096b73d4] {\n      margin-right: 40px;\n}\n.order-detail .manage-container .order-info div[data-v-096b73d4]:first-child {\n        width: 230px;\n}\n"],sourceRoot:""}])},GqSB:function(t,e,a){"use strict";function r(t){a("/TOs")}Object.defineProperty(e,"__esModule",{value:!0});var n=a("nw46"),i=a("J9ry"),o=a("VU/8"),d=r,l=o(n.a,i.a,d,"data-v-096b73d4",null);e.default=l.exports},J9ry:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-detail"},[a("div",{staticClass:"query-container"},[a("el-form",{attrs:{inline:!0,model:t.form,"label-width":"100px"}},[a("el-row",[a("el-form-item",{attrs:{label:"手机号:"}},[a("el-input",{attrs:{size:"small"},model:{value:t.form.phone,callback:function(e){t.form.phone=e},expression:"form.phone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态:"}},[a("el-select",{attrs:{size:"small",filterable:"",clearable:""},model:{value:t.form.status,callback:function(e){t.form.status=e},expression:"form.status"}},t._l(t.status,function(t){return a("el-option",{key:t.value,attrs:{label:t.caption,value:t.value}})}))],1)],1)],1),t._v(" "),a("el-row",{staticStyle:{width:"1072px"},attrs:{type:"flex",justify:"end"}},[a("el-col",{attrs:{span:3}},[t.buttonVisible[3020112]?a("el-button",{attrs:{size:"small",type:"primary",icon:"delete"},on:{click:t.clear}},[t._v("清空")]):t._e()],1),t._v(" "),a("el-col",{attrs:{span:3}},[t.buttonVisible[3020113]?a("el-button",{attrs:{size:"small",type:"primary",icon:"search"},on:{click:t.query}},[t._v("查询")]):t._e()],1),t._v(" "),a("el-col",{attrs:{span:2}},[t.buttonVisible[3020114]?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.download}},[a("icon-svg",{attrs:{"icon-class":"down"}}),t._v("下载")],1):t._e()],1)],1),t._v(" "),a("el-row",{staticStyle:{width:"1072px","margin-top":"20px"},attrs:{type:"flex",justify:"end"}},[a("el-col",{attrs:{span:2}},[t.buttonVisible[3020115]&&t.againGiveBtnShow?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.againGive}},[a("icon-svg",{attrs:{"icon-class":"reset"}}),t._v("重新发放")],1):t._e()],1)],1)],1),t._v(" "),a("div",{staticClass:"manage-container"},[a("div",{staticClass:"order-info",staticStyle:{"font-size":"14px"}},[a("div",[a("span",{staticStyle:{"font-weight":"bold"}},[t._v("团购单号：")]),a("span",[t._v(t._s(this.order.orderNo))])]),t._v(" "),a("div",[a("span",{staticStyle:{display:"inline-block",width:"70px","text-align":"right","font-weight":"bold"}},[t._v("分销商：")]),a("span",[t._v(t._s(this.order.distributorName))])]),t._v(" "),a("div",[a("span",{staticStyle:{"font-weight":"bold"}},[t._v("订单名称：")]),a("span",[t._v(t._s(this.order.orderName)+"值")])]),t._v(" "),a("div",[a("span",{staticStyle:{"font-weight":"bold"}},[t._v("充值笔数：")]),a("span",[t._v(t._s(this.order.totalChargeCount)+"笔")])]),t._v(" "),a("div",[a("span",{staticStyle:{"font-weight":"bold"}},[t._v("实冲笔数：")]),a("span",[t._v(t._s(this.order.factChargeCount)+"笔")])])]),t._v(" "),a("div",{staticClass:"order-info",staticStyle:{"margin-top":"18px","font-size":"14px"}},[a("div",[a("span",{staticStyle:{display:"inline-block",width:"70px","text-align":"right","font-weight":"bold"}},[t._v("审核人：")]),a("span",[t._v(t._s(this.order.verifyUser))])]),t._v(" "),a("div",[a("span",{staticStyle:{"font-weight":"bold"}},[t._v("审核备注：")]),a("span",[t._v(t._s(this.order.verifyRemark))])])]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",attrs:{data:t.tableData,border:"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)","empty-text":t.noTableData,height:t.tableHeight},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),t._v(" "),a("el-table-column",{attrs:{label:"订单ID",prop:"id",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{label:"序号",prop:"sno",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{label:"用户手机号",prop:"userTelphone",width:"130"}}),t._v(" "),a("el-table-column",{attrs:{label:"用户ID",prop:"userId",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{label:"卡券ID",prop:"cardId",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{label:"卡券名称",prop:"cardName",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{label:"数量",prop:"grantAmount",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{label:"金额(元)",prop:"grantBalance",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"statusDesc",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态更新",prop:"updateTime",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{label:"处理信息",prop:"failReason",width:"180"}})],1),t._v(" "),a("div",{staticClass:"page-container"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper",total:t.totalRows,"page-size":t.pageSize,"page-sizes":[10,20,30]},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)],1)])},n=[],i={render:r,staticRenderFns:n};e.a=i},ijSo:function(t,e,a){"use strict";function r(t){var e=t.params;return a.i(f.a)({url:"/distributor/queryAllDistributors",method:"post",data:e})}function n(){return a.i(f.a)({url:"card/groupOrder/getOrderStatusDict",method:"get"})}function i(t){var e=t.params;return a.i(f.a)({url:"/card/groupOrder/processRate/"+e,method:"get"})}function o(t){var e=t.params;return a.i(f.a)({url:"/card/groupOrder/importResult",method:"post",data:e})}function d(t){var e=t.params;return a.i(f.a)({url:"/card/groupOrder/confirmApply/"+e,method:"get"})}function l(t){var e=t.params;return a.i(f.a)({url:"/card/groupOrder/list",method:"post",data:e})}function s(t){var e=t.params;return a.i(f.a)({url:"/card/groupOrder/verify",method:"post",data:e})}function p(t){var e=t.params;return a.i(f.a)({url:"/card/groupOrder/revoke/"+e,method:"get"})}function u(t){var e=t.params;return a.i(f.a)({url:"/card/groupOrder/charge/"+e,method:"get"})}function c(t){var e=t.params;return a.i(f.a)({url:"/card/groupOrder/detail/list",method:"post",data:e})}function A(t){var e=t.params;return a.i(f.a)({url:"/card/groupOrder/detail/charge/"+e,method:"get"})}function g(){return"http://10.10.2.20:80/microservice-dist-provider/card/groupOrder/add"}function h(){return"http://10.10.2.20:80/microservice-dist-provider/card/groupOrder/download"}function m(){return"http://10.10.2.20:80/microservice-dist-provider/card/groupOrder/detail/download"}function v(t){return"http://10.10.2.20:80/microservice-dist-provider/card/groupOrder/importResult/download/"+t.params}function b(){return"http://10.10.2.20:80/microservice-dist-provider/card/groupOrder/template/download?Authorization="+a.i(C.a)()}e.a=r,e.f=n,e.l=i,e.n=o,e.o=d,e.g=l,e.m=s,e.k=p,e.j=u,e.b=c,e.d=A,e.e=g,e.h=h,e.c=m,e.i=v,e.p=b;var f=a("Vo7i"),C=a("TIfe")},ms7A:function(t,e,a){"use strict";function r(t){var e=t.params;return a.i(f.a)({url:"/user/list",method:"post",data:e})}function n(t){var e=t.params;return a.i(f.a)({url:"/user/detail/"+e,method:"get"})}function i(t){var e=t.params;return a.i(f.a)({url:"user/add",method:"post",data:e})}function o(t){var e=t.params;return a.i(f.a)({url:"user/exist/"+e,method:"get"})}function d(t){var e=t.params;return a.i(f.a)({url:"user/modify",method:"post",data:e})}function l(t){var e=t.params;return a.i(f.a)({url:"user/cancel",method:"post",data:e})}function s(t){var e=t.params;return a.i(f.a)({url:"user/disable",method:"post",data:e})}function p(t){var e=t.params;return a.i(f.a)({url:"user/enable",method:"post",data:e})}function u(t){var e=t.params;return a.i(f.a)({url:"user/resetPwd/"+e,method:"get"})}function c(t){var e=t.params;return a.i(f.a)({url:"user/setNewPwd",method:"post",data:e})}function A(t){var e=t.params;return a.i(f.a)({url:"user/role/"+e,method:"get"})}function g(t){var e=t.params;return a.i(f.a)({url:"user/menu/"+e,method:"get"})}function h(t){var e=t.params;return a.i(f.a)({url:"user/setRolePermission",method:"post",data:e})}function m(t){var e=t.params;return a.i(f.a)({url:"user/setMenuPermission",method:"post",data:e})}function v(t){var e=t.params;return a.i(f.a)({url:"user/detail/"+e,method:"get"})}function b(t){var e=t.params;return a.i(f.a)({url:"/dict/getDictByCode",method:"post",data:e})}e.k=r,e.c=n,e.e=i,e.b=o,e.d=d,e.g=l,e.h=s,e.i=p,e.j=u,e.a=c,e.m=A,e.o=g,e.n=h,e.p=m,e.f=v,e.l=b;var f=a("Vo7i")},nw46:function(t,e,a){"use strict";(function(t){var r=a("mvHQ"),n=a.n(r),i=a("Dd8w"),o=a.n(i),d=a("ijSo"),l=a("TIfe"),s=a("ms7A"),p=a("9q5R"),u=a("NYxO");e.a={data:function(){return{pageId:"30201",form:{phone:"",status:""},order:{},loading:!1,noTableData:"",tableData:[],multipleSelection:[],totalRows:0,pageSize:20,currentPage:1,status:[],againGiveBtnShow:!1}},created:function(){this.getOrderDetail(),this.getStatus()},computed:o()({},a.i(u.c)({userInfo:function(t){return t.user.userInfo}}),{tableHeight:function(){return this.tableData.length<=5?400:40*(this.tableData.length+1)+18}}),methods:{getStatus:function(){var t=this;a.i(s.l)({params:{code:"1030"}}).then(function(e){"0000"===e.errcode&&(t.status=e.result)})},getOrderDetail:function(t){var e=this,r=t||1,n={pageNo:r,pageSize:this.pageSize,groupOrderNo:this.$route.query.groupOrderNo,userTelphone:this.form.phone,status:this.form.status};a.i(d.b)({params:n}).then(function(t){e.order=t.result.order,e.totalRows=t.result.orderDetail.totalCount,e.tableData=t.result.orderDetail.rows})},clear:function(){this.form.phone="",this.form.status=""},query:function(){this.getOrderDetail()},download:function(){var e={pageNo:this.currentPage,pageSize:this.pageSize,groupOrderNo:this.$route.query.groupOrderNo,status:this.form.status,userTelphone:this.form.phone},r=t("<form>");r.attr({style:"display:none",target:"",method:"post",action:a.i(d.c)()});var i=t("<input>");i.attr({type:"hidden",name:"Authorization",value:a.i(l.a)()});var o=t("<input>");o.attr({type:"hidden",name:"query",value:n()(e)}),t("body").append(r),r.append(i),r.append(o),r.submit()},againGive:function(){var t=this;1===this.multipleSelection.length?"0"===this.multipleSelection[0].status?a.i(d.d)({params:this.multipleSelection[0].id}).then(function(e){"0000"===e.errcode&&(t.$notify({title:"成功",message:"发送成功",type:"success",duration:1e3}),t.getOrderDetail())}):this.$notify.warning({title:"消息",message:"无操作权限",duration:600}):this.$notify.warning({title:"消息",message:0===this.multipleSelection.length?"请选择一条订单查看":"只能选择一条订单查看",duration:600})},handleSelectionChange:function(t){this.multipleSelection=t},handleCurrentChange:function(t){this.currentPage=t,this.getOrderDetail(this.currentPage)},handleSizeChange:function(t){this.pageSize=t,this.getOrderDetail(this.currentPage)}},mixins:[p.a],watch:{multipleSelection:function(t){t[0]&&"0"===t[0].status?this.againGiveBtnShow=!0:this.againGiveBtnShow=!1}}}}).call(e,a("7t+N"))}});
//# sourceMappingURL=20.b8610f2dbdeee761c6b1.js.map
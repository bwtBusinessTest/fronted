{"version":3,"sources":["webpack:///static/js/15.6ac651270f2fbfc47934.js","webpack:///./src/views/userRoleManage/index.vue","webpack:///./src/utils/publicMethod.js?d902*******","webpack:///./src/utils/buttonVisible.js?f6ae************","webpack:///./src/views/userRoleManage/action.js","webpack:///./src/views/userRoleManage/index.vue?1c2b","webpack:///./src/views/userRoleManage/index.vue?766e","webpack:///./src/views/userRoleManage/index.vue?4d04","webpack:///./src/api/roleManage.js?b83f"],"names":["webpackJsonp","+tu9","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_action_js__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_fa38f372_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__","normalizeComponent","__vue_styles__","Component","2QJc","$","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","n","__WEBPACK_IMPORTED_MODULE_1_vuex__","publicMethod","data","scrollHeight","queryContainerShrink","computed","i","isCollapse","state","app","sidebar","opened","methods","openNewAddModal","self","this","setTimeout","document","querySelector","style","left","css","$nextTick","scrollTop","top","shrinkQueryArea","boxHeight","$refs","queryContainer","height","watch","newValue","call","9q5R","mixin","buttonVisible","_this","res","buttonAuth","forEach","ele","menuParentCode","pageId","menuCode","mounted","draggable","Akrt","__WEBPACK_IMPORTED_MODULE_1__api_roleManage__","__WEBPACK_IMPORTED_MODULE_2_vuex__","__WEBPACK_IMPORTED_MODULE_3__utils_buttonVisible__","__WEBPACK_IMPORTED_MODULE_4__utils_publicMethod__","name","mixins","validateRoleNo","rule","callback","roleNoExist","validateRoleName","roleNameExist","addRoleRules","roleNo","validator","trigger","required","message","min","max","roleName","remark","modifyRoleRules","queryCondition","addRoleData","modifyRoleData","tableData","total","currentPage","pageSize","multipleSelection","dialogAddVisible","dialogModifyVisible","dialogDeleteVisible","dialogRightDistributeVisible","rightsModifyData","checkedKeysData","menuList","dialogVisibles","loading","noTableData","created","getRoleList","undefined","handleSelectionChange","val","handleCurrentChange","clearAddModel","resetFields","key","clearModifyModel","handleAddRole","_this2","addRoleForm","validate","valid","params","then","errcode","$notify","title","type","duration","modifyRole","length","showSelectDataMsg","showSelectMoreDataMsg","handleModifyRole","_this3","modifyRoleForm","id","removeRole","handleRemoveRole","_this4","getMenuPermission","_this5","result","menuTree","permissionIds","permissionDialog","checkedMenu","handleRightsModifyChange","checked","indeterminate","findMenuId","filter","item","code","tree","setChecked","handleSetPermission","_this6","menuIds","getCheckedKeys","join","roleId","queryRoleList","handleSizeChange","pageNo","isFirst","_this7","totalCount","rows","whichDialog","openModals","find","el","openModal","row","multipleTable","toggleRowSelection","sendValidateRoleNo","_this8","isExist","sendValidateRoleName","_this9","clearQueryParams","addOpenModals","removeOpenModals","beforeRouteLeave","to","from","next","_this10","dialogVisible","C2Na","exports","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","EHeC","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","model","inline","label","size","$$v","expression","_v","justify","span","icon","on","click","_e","$event","directives","rawName","ref","border","element-loading-text","empty-text","selection-change","prop","layout","page-size","page-sizes","current-change","size-change","visible","close-on-click-modal","close","update:visible","open","rules","label-width","input","slot","staticStyle","padding-left","overflow-y","show-checkbox","node-key","default-expand-all","default-checked-keys","check-change","staticRenderFns","esExports","YeM9","content","locals","uD/V","roleListApi","_ref","__WEBPACK_IMPORTED_MODULE_0__utils_fetch__","url","method","addRoleApi","_ref2","validateRoleNoApi","_ref3","validateRoleNameApi","_ref4","modifyRoleApi","_ref5","deleteRoleApi","_ref6","menuPermissionApi","_ref7","setPermissionApi","_ref8"],"mappings":"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","file":"static/js/15.6ac651270f2fbfc47934.js","sourcesContent":["webpackJsonp([15],{\n\n/***/ \"+tu9\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_action_js__ = __webpack_require__(\"Akrt\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_fa38f372_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__ = __webpack_require__(\"EHeC\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"YeM9\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_action_js__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_fa38f372_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"2QJc\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(\"Dd8w\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(\"NYxO\");\n\n\nvar publicMethod = {\n    data: function data() {\n        return {\n            //滚动条高度\n            scrollHeight: 0,\n            queryContainerShrink: false\n        };\n    },\n\n    computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"c\" /* mapState */])({\n        isCollapse: function isCollapse(state) {\n            return state.app.sidebar.opened;\n        }\n    })),\n    methods: {\n        //遮罩问题\n        openNewAddModal: function openNewAddModal() {\n            var self = this;\n            setTimeout(function () {\n                if (!self.isCollapse) {\n                    self.$nextTick(function () {\n                        document.querySelector('.v-modal').style.left = '36px';\n                    });\n                    if (document.querySelector('.v-modal')) {\n                        document.querySelector('.v-modal').style.left = '36px';\n                        $('.el-dialog__wrapper').css('left', '36px');\n                    }\n                } else {\n                    if (document.querySelector('.v-modal')) {\n                        document.querySelector('.v-modal').style.left = '200px';\n                        $('.el-dialog__wrapper').css('left', '200px');\n                    }\n                }\n                if (document.querySelector('.v-modal')) {\n                    self.scrollHeight = $(document).scrollTop();\n                    if (self.scrollHeight >= 0 && self.scrollHeight < 50) {\n                        document.querySelector('.v-modal').style.top = 50 - self.scrollHeight + 'px';\n                        $('.el-dialog__wrapper').css('top', 50 - self.scrollHeight + 'px');\n                    } else {\n                        document.querySelector('.v-modal').style.top = '0px';\n                        $('.el-dialog__wrapper').css('top', '0px');\n                    }\n                }\n            }, 100);\n        },\n        shrinkQueryArea: function shrinkQueryArea(boxHeight) {\n            if (this.queryContainerShrink) {\n                this.$refs.queryContainer.style.height = boxHeight + 'px';\n                this.queryContainerShrink = false;\n            } else {\n                this.$refs.queryContainer.style.height = '60px';\n                this.queryContainerShrink = true;\n            }\n        }\n    },\n    watch: {\n        //遮罩问题\n        isCollapse: function isCollapse(newValue) {\n            if (document.querySelector('.v-modal')) {\n                if (newValue) {\n                    document.querySelector('.v-modal').style.left = '200px';\n                    $('.el-dialog__wrapper').css('left', '200px');\n                } else {\n                    document.querySelector('.v-modal').style.left = '36px';\n                    $('.el-dialog__wrapper').css('left', '36px');\n                }\n            }\n        }\n    }\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (publicMethod);\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"7t+N\")))\n\n/***/ }),\n\n/***/ \"9q5R\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(\"Dd8w\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(\"NYxO\");\n\n\n\nvar mixin = {\n\tcomputed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"b\" /* mapGetters */])(['buttonAuth']), {\n\t\tbuttonVisible: function buttonVisible() {\n\t\t\tvar _this = this;\n\n\t\t\tvar res = {};\n\t\t\tthis.buttonAuth.forEach(function (ele) {\n\t\t\t\tif (ele.menuParentCode === _this.pageId) {\n\t\t\t\t\tres[ele.menuCode] = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn res;\n\t\t}\n\t}),\n\tmounted: function mounted() {\n\t\t$('.el-dialog').draggable();\n\t}\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (mixin);\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"7t+N\")))\n\n/***/ }),\n\n/***/ \"Akrt\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(\"Dd8w\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_roleManage__ = __webpack_require__(\"uD/V\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex__ = __webpack_require__(\"NYxO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_buttonVisible__ = __webpack_require__(\"9q5R\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_publicMethod__ = __webpack_require__(\"2QJc\");\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'roleManage',\n  mixins: [__WEBPACK_IMPORTED_MODULE_3__utils_buttonVisible__[\"a\" /* default */], __WEBPACK_IMPORTED_MODULE_4__utils_publicMethod__[\"a\" /* default */]],\n  data: function data() {\n    var _this = this;\n\n    //验证器：角色编号唯一\n    var validateRoleNo = function validateRoleNo(rule, value, callback) {\n      if (_this.roleNoExist) {\n        callback('角色编号已存在');\n      } else {\n        callback();\n      }\n    };\n    //验证器：角色名称唯一\n    var validateRoleName = function validateRoleName(rule, value, callback) {\n      if (_this.roleNameExist) {\n        callback('角色名称已存在');\n      } else {\n        callback();\n      }\n    };\n    return {\n      //添加角色、修改角色字段验证规则\n      addRoleRules: {\n        roleNo: [{ validator: validateRoleNo, trigger: 'blur' }, { required: true, message: '请输入角色编号,最多20个字符', min: 1, max: 20, trigger: 'blur' }],\n        roleName: [{ validator: validateRoleName, trigger: 'blur' }, { required: true, message: '请输入角色名称,最多20个字符', min: 1, max: 20, trigger: 'blur' }],\n        remark: [{ required: false, message: '备注最多50个字符', min: 0, max: 50, trigger: 'blur' }]\n      },\n      modifyRoleRules: {\n        roleNo: [{ validator: validateRoleNo, trigger: 'blur' }, { required: true, message: '请输入角色编号,最多20个字符', min: 1, max: 20, trigger: 'blur' }],\n        roleName: [{ validator: validateRoleName, trigger: 'blur' }, { required: true, message: '请输入角色名称,最多20个字符', min: 1, max: 20, trigger: 'blur' }],\n        remark: [{ required: false, message: '备注最多50个字符', min: 0, max: 50, trigger: 'blur' }]\n      },\n      //查询参数model\n      queryCondition: {\n        roleName: ''\n      },\n      //添加角色model\n      addRoleData: {\n        roleNo: '',\n        roleName: '',\n        remark: ''\n      },\n      //修改角色model\n      modifyRoleData: {\n        roleNo: '',\n        roleName: '',\n        remark: ''\n      },\n      //角色列表model\n      tableData: [],\n      //分页model：总数、当前页面\n      total: 0,\n      currentPage: 1,\n      pageSize: 10,\n      //当前选择的数据集\n      multipleSelection: [],\n      //角色名称是否存在flag\n      roleNameExist: false,\n      //角色编号是否存在flag\n      roleNoExist: false,\n      //是否显示新增窗口\n      dialogAddVisible: false,\n      //是否显示修改窗口\n      dialogModifyVisible: false,\n      //是否显示删除窗口\n      dialogDeleteVisible: false,\n      //是否显示权限分配窗口\n      dialogRightDistributeVisible: false,\n      //权限数据集\n      rightsModifyData: [],\n      //默认选择的数据集：角色当前拥有的权限ids\n      checkedKeysData: [],\n      //菜单列表\n      menuList: [],\n      pageId: '202',\n      dialogVisibles: ['dialogAddVisible', 'dialogModifyVisible', 'dialogDeleteVisible', 'dialogRightDistributeVisible'],\n      loading: true,\n      noTableData: ' '\n    };\n  },\n\n  //初始化查询角色列表\n  created: function created() {\n    this.getRoleList(undefined, true);\n  },\n\n  methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({\n    //选择事件\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n\n    //分页栏点击事件\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.currentPage = val;\n      this.getRoleList(val);\n    },\n\n    //清除新增角色的model\n    clearAddModel: function clearAddModel() {\n      this.$refs[\"addRoleForm\"].resetFields();\n      for (var key in this.addRoleData) {\n        this.addRoleData[key] = '';\n      }\n      this.roleNameExist = false;\n      this.roleNoExist = false;\n    },\n\n    //清除新增角色的model\n    clearModifyModel: function clearModifyModel() {\n      this.$refs[\"modifyRoleForm\"].resetFields();\n      for (var key in this.modifyRoleData) {\n        this.modifyRoleData[key] = '';\n      }\n      this.roleNameExist = false;\n      this.roleNoExist = false;\n    },\n\n    //添加角色\n    handleAddRole: function handleAddRole() {\n      var _this2 = this;\n\n      this.$refs.addRoleForm.validate(function (valid) {\n        if (valid) {\n          var params = {\n            roleNo: _this2.addRoleData.roleNo,\n            roleName: _this2.addRoleData.roleName,\n            remark: _this2.addRoleData.remark == '' ? null : _this2.addRoleData.remark\n          };\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_roleManage__[\"a\" /* addRoleApi */])({ params: params }).then(function (res) {\n            if (res.errcode === '0000') {\n              _this2.$notify({\n                title: '成功',\n                message: '添加角色成功',\n                type: 'success',\n                duration: 1000\n              });\n              _this2.dialogAddVisible = false;\n              _this2.getRoleList(_this2.currentPage);\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n\n    //修改角色\n    modifyRole: function modifyRole() {\n      if (this.multipleSelection.length < 1) {\n        this.showSelectDataMsg();\n      } else if (this.multipleSelection.length > 1) {\n        this.showSelectMoreDataMsg();\n      } else {\n        this.modifyRoleData = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, this.multipleSelection[0]);\n        this.dialogModifyVisible = true;\n      }\n    },\n\n    //修改角色\n    handleModifyRole: function handleModifyRole() {\n      var _this3 = this;\n\n      this.$refs.modifyRoleForm.validate(function (valid) {\n        if (valid) {\n          var params = {\n            id: _this3.modifyRoleData.id,\n            roleNo: _this3.modifyRoleData.roleNo,\n            roleName: _this3.modifyRoleData.roleName,\n            remark: _this3.modifyRoleData.remark\n          };\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_roleManage__[\"b\" /* modifyRoleApi */])({ params: params }).then(function (res) {\n            if (res.errcode === '0000') {\n              _this3.$notify({\n                title: '成功',\n                message: '修改角色成功',\n                type: 'success',\n                duration: 1000\n              });\n              _this3.dialogModifyVisible = false;\n              _this3.getRoleList(_this3.currentPage);\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n\n    //删除角色\n    removeRole: function removeRole() {\n      if (this.multipleSelection.length < 1) {\n        this.showSelectDataMsg();\n      } else if (this.multipleSelection.length > 1) {\n        this.showSelectMoreDataMsg();\n      } else {\n        this.dialogDeleteVisible = true;\n      }\n    },\n\n    //删除角色\n    handleRemoveRole: function handleRemoveRole() {\n      var _this4 = this;\n\n      if (this.multipleSelection.length > 0) {\n\n        var id = this.multipleSelection[0].id;\n        if (id == 1 || id == 2) {\n          this.$notify({\n            title: '提示',\n            message: '基础角色，禁止删除',\n            type: 'warning',\n            duration: 1000\n          });\n          this.dialogDeleteVisible = false;\n          return;\n        }\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_roleManage__[\"c\" /* deleteRoleApi */])({ params: id }).then(function (res) {\n          if (res.errcode === '0000') {\n            _this4.$notify({\n              title: '成功',\n              message: '删除角色成功',\n              type: 'success',\n              duration: 1000\n            });\n            _this4.dialogDeleteVisible = false;\n            _this4.getRoleList(_this4.currentPage);\n          }\n        });\n      } else {\n        this.showSelectDataMsg();\n      }\n    },\n\n\n    //获取菜单权限\n    getMenuPermission: function getMenuPermission() {\n      var _this5 = this;\n\n      if (this.multipleSelection.length < 1) {\n        this.showSelectDataMsg();\n      } else if (this.multipleSelection.length > 1) {\n        this.showSelectMoreDataMsg();\n      } else {\n        var id = this.multipleSelection[0].id;\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_roleManage__[\"d\" /* menuPermissionApi */])({ params: id }).then(function (res) {\n          if (res.errcode === '0000') {\n            _this5.dialogRightDistributeVisible = true;\n            _this5.rightsModifyData = [];\n            _this5.rightsModifyData[0] = res.result.menuTree;\n\n            _this5.checkedKeysData = res.result.permissionIds;\n            _this5.menuList = res.result.menuList;\n            _this5.$nextTick(function () {\n              this.$refs.permissionDialog.scrollTop = 0;\n              this.checkedMenu();\n            });\n          }\n        });\n      }\n    },\n\n\n    //菜单点击事件\n    handleRightsModifyChange: function handleRightsModifyChange(data, checked, indeterminate) {},\n\n\n    //查找menuId\n    findMenuId: function findMenuId(menuCode) {\n      return this.menuList.filter(function (item) {\n        return item.code === menuCode;\n      })[0].id;\n    },\n\n\n    //设置用户菜单权限：设置默认值\n    checkedMenu: function checkedMenu() {\n      for (var i = 0; i < this.menuList.length; i++) {\n        this.$refs.tree.setChecked(this.menuList[i].id, false);\n      }\n      for (var i = 0; i < this.checkedKeysData.length; i++) {\n        this.$refs.tree.setChecked(this.checkedKeysData[i], true);\n      }\n    },\n\n\n    //设置角色权限\n    handleSetPermission: function handleSetPermission() {\n      var _this6 = this;\n\n      var id = this.multipleSelection[0].id;\n      var menuIds = this.$refs.tree.getCheckedKeys().join(\",\");\n      var params = { roleId: id, menuIds: menuIds };\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_roleManage__[\"e\" /* setPermissionApi */])({ params: params }).then(function (res) {\n        if (res.errcode === '0000') {\n          _this6.$notify({\n            title: '成功',\n            message: '权限分配成功',\n            type: 'success',\n            duration: 1000\n          });\n          _this6.dialogRightDistributeVisible = false;\n          _this6.getRoleList(_this6.currentPage);\n        }\n      });\n    },\n\n\n    //查询角色列表\n    queryRoleList: function queryRoleList() {\n      this.getRoleList();\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.pageSize = val;\n      this.getRoleList(this.currentPage);\n    },\n\n    //获取角色列表\n    getRoleList: function getRoleList(pageNo, isFirst) {\n      var _this7 = this;\n\n      var currentPage = pageNo || 1;\n      var params = { pageNo: currentPage, pageSize: this.pageSize, roleName: this.queryCondition.roleName || null };\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_roleManage__[\"f\" /* roleListApi */])({ params: params }).then(function (res) {\n        _this7.total = res.result.totalCount;\n        _this7.tableData = res.result.rows;\n        _this7.loading = false;\n        if (isFirst) {\n          var whichDialog = _this7.openModals.find(function (el) {\n            return el.pageId === _this7.pageId;\n          });\n          if (whichDialog && whichDialog.openModal === 'dialogAddVisible') {\n            _this7.addRoleData = whichDialog.data;\n            _this7[whichDialog.openModal] = true;\n          } else if (whichDialog) {\n            _this7.$nextTick(function () {\n              whichDialog.data.forEach(function (row) {\n                _this7.$refs.multipleTable.toggleRowSelection(_this7.tableData.find(function (ele) {\n                  return ele.id === row.id;\n                }));\n              });\n              if (whichDialog.openModal === 'dialogModifyVisible') {\n                _this7.modifyRole();\n              } else if (whichDialog.openModal === 'dialogDeleteVisible') {\n                _this7.removeRole();\n              } else if (whichDialog.openModal === 'dialogRightDistributeVisible') {\n                _this7.getMenuPermission();\n              }\n            });\n          }\n        }\n      });\n    },\n\n    //验证角色编号是否重复\n    sendValidateRoleNo: function sendValidateRoleNo(type) {\n      var _this8 = this;\n\n      var roleNo = '';\n      if (type === 'newAdd') {\n        roleNo = this.addRoleData.roleNo;\n      } else {\n        roleNo = this.modifyRoleData.roleNo;\n        if (roleNo === this.multipleSelection[0].roleNo) {\n          this.roleNoExist = false;\n          return;\n        }\n      }\n      if (roleNo) {\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_roleManage__[\"g\" /* validateRoleNoApi */])({ params: roleNo }).then(function (res) {\n          if (res.result.isExist) {\n            _this8.roleNoExist = true;\n          } else {\n            _this8.roleNoExist = false;\n          }\n        });\n      } else {\n        this.roleNoExist = false;\n      }\n    },\n\n    //验证角色名称是否重复\n    sendValidateRoleName: function sendValidateRoleName(type) {\n      var _this9 = this;\n\n      var roleName = '';\n      if (type === 'newAdd') {\n        roleName = this.addRoleData.roleName;\n      } else {\n        roleName = this.modifyRoleData.roleName;\n        if (roleName === this.multipleSelection[0].roleName) {\n          this.roleNameExist = false;\n          return;\n        }\n      }\n      if (roleName) {\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_roleManage__[\"h\" /* validateRoleNameApi */])({ params: roleName }).then(function (res) {\n          if (res.result.isExist) {\n            _this9.roleNameExist = true;\n          } else {\n            _this9.roleNameExist = false;\n          }\n        });\n      } else {\n        this.roleNameExist = false;\n      }\n    },\n\n    //清除查询条件\n    clearQueryParams: function clearQueryParams() {\n      for (var key in this.queryCondition) {\n        this.queryCondition[key] = '';\n      }\n    },\n\n    //显示未选择数据消息提醒\n    showSelectDataMsg: function showSelectDataMsg() {\n      this.$notify({\n        title: '提示',\n        message: '请选择数据',\n        type: 'warning',\n        duration: 1000\n      });\n    },\n\n    //显示选择多条数据消息提醒\n    showSelectMoreDataMsg: function showSelectMoreDataMsg() {\n      this.$notify({\n        title: '提示',\n        message: '只能选择一条数据',\n        type: 'warning',\n        duration: 1000\n      });\n    }\n  }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"d\" /* mapMutations */])({\n    addOpenModals: 'ADD_OPEN_MODALS',\n    removeOpenModals: 'REMOVE_OPEN_MODALS'\n  })),\n  computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"c\" /* mapState */])({\n    openModals: function openModals(state) {\n      return state.app.openModals;\n    }\n  })),\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    var _this10 = this;\n\n    var dialogVisible = this.dialogVisibles.find(function (el) {\n      return _this10[el];\n    });\n    var data;\n    if (dialogVisible) {\n      if (dialogVisible === this.dialogVisibles[0]) {\n        data = this.addRoleData;\n      } else {\n        data = this.multipleSelection;\n      }\n      this.removeOpenModals({ pageId: this.pageId });\n      this.addOpenModals({ pageId: this.pageId, openModal: dialogVisible, data: data });\n    } else {\n      this.removeOpenModals({ pageId: this.pageId });\n    }\n    next();\n  }\n});\n\n/***/ }),\n\n/***/ \"C2Na\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".query-container{padding:10px;box-shadow:0 0 4px #ccc;position:relative;overflow:hidden;transition:height .5s}.query-container .query-btn{position:absolute;right:40px;bottom:18px}.query-container .draggable{position:absolute;right:0;bottom:18px;width:30px;height:30px;padding-left:5px;line-height:30px;text-align:center;border:1px solid #ccc;opacity:.5;display:none;border-radius:50%}.query-container:hover .draggable{display:block}.manage-container{margin-top:20px;padding:10px;box-shadow:0 0 4px #ccc}.manage-container .el-dialog_wrapper{left:200px;top:50px}.el-button{width:88px}.el-table{margin-top:20px}.page-container{text-align:right;padding-top:10px}.page-container .el-pagination{padding-right:0}.reset-dialog-width .el-dialog{width:30%}.reset-dialog-width .el-dialog p{text-align:center}.el-dialog__body{margin:20px 0 5px;border-top:1px solid #ccc;border-bottom:1px solid #ccc}.v-modal{transition:all .1s;left:200px;top:50px}.svg-icon{margin-right:5px}.user-role-manage{margin:30px auto 0;width:1120px}.user-role-manage .manage-container .el-col{margin-right:30px}.user-role-manage .el-dialog__wrapper{top:50px;left:200px}\", \"\", {\"version\":3,\"sources\":[\"/Users/liwenhua/Documents/bwton/SourceCode/01.trunk/back-manage/src/views/userRoleManage/index.vue\"],\"names\":[],\"mappings\":\"AACA,iBACE,aAAc,AACd,wBAAyB,AACzB,kBAAmB,AACnB,gBAAiB,AACjB,qBAAuB,CACxB,AACD,4BACI,kBAAmB,AACnB,WAAY,AACZ,WAAa,CAChB,AACD,4BACI,kBAAmB,AACnB,QAAS,AACT,YAAa,AACb,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,iBAAkB,AAClB,kBAAmB,AACnB,sBAAuB,AACvB,WAAa,AACb,aAAc,AACd,iBAAmB,CACtB,AACD,kCACI,aAAe,CAClB,AACD,kBACE,gBAAiB,AACjB,aAAc,AACd,uBAAyB,CAC1B,AACD,qCACI,WAAY,AACZ,QAAU,CACb,AACD,WACE,UAAY,CACb,AACD,UACE,eAAiB,CAClB,AACD,gBACE,iBAAkB,AAClB,gBAAkB,CACnB,AACD,+BACI,eAAiB,CACpB,AACD,+BACE,SAAW,CACZ,AACD,iCACI,iBAAmB,CACtB,AACD,iBACE,kBAAqB,AACrB,0BAA2B,AAC3B,4BAA8B,CAC/B,AACD,SACE,mBAAoB,AACpB,WAAY,AACZ,QAAU,CACX,AACD,UACE,gBAAkB,CACnB,AACD,kBACE,mBAAoB,AACpB,YAAc,CACf,AACD,4CACI,iBAAmB,CACtB,AACD,sCACI,SAAU,AACV,UAAY,CACf\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.query-container {\\n  padding: 10px;\\n  box-shadow: 0 0 4px #ccc;\\n  position: relative;\\n  overflow: hidden;\\n  transition: height .5s;\\n}\\n.query-container .query-btn {\\n    position: absolute;\\n    right: 40px;\\n    bottom: 18px;\\n}\\n.query-container .draggable {\\n    position: absolute;\\n    right: 0;\\n    bottom: 18px;\\n    width: 30px;\\n    height: 30px;\\n    padding-left: 5px;\\n    line-height: 30px;\\n    text-align: center;\\n    border: 1px solid #ccc;\\n    opacity: 0.5;\\n    display: none;\\n    border-radius: 50%;\\n}\\n.query-container:hover .draggable {\\n    display: block;\\n}\\n.manage-container {\\n  margin-top: 20px;\\n  padding: 10px;\\n  box-shadow: 0 0 4px #ccc;\\n}\\n.manage-container .el-dialog_wrapper {\\n    left: 200px;\\n    top: 50px;\\n}\\n.el-button {\\n  width: 88px;\\n}\\n.el-table {\\n  margin-top: 20px;\\n}\\n.page-container {\\n  text-align: right;\\n  padding-top: 10px;\\n}\\n.page-container .el-pagination {\\n    padding-right: 0;\\n}\\n.reset-dialog-width .el-dialog {\\n  width: 30%;\\n}\\n.reset-dialog-width .el-dialog p {\\n    text-align: center;\\n}\\n.el-dialog__body {\\n  margin: 20px 0 5px 0;\\n  border-top: 1px solid #ccc;\\n  border-bottom: 1px solid #ccc;\\n}\\n.v-modal {\\n  transition: all .1s;\\n  left: 200px;\\n  top: 50px;\\n}\\n.svg-icon {\\n  margin-right: 5px;\\n}\\n.user-role-manage {\\n  margin: 30px auto 0;\\n  width: 1120px;\\n}\\n.user-role-manage .manage-container .el-col {\\n    margin-right: 30px;\\n}\\n.user-role-manage .el-dialog__wrapper {\\n    top: 50px;\\n    left: 200px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"EHeC\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"user-role-manage\"\n  }, [_c('div', {\n    staticClass: \"query-container\"\n  }, [_c('el-form', {\n    attrs: {\n      \"model\": _vm.queryCondition,\n      \"inline\": true\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"角色名称\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"size\": \"small\"\n    },\n    model: {\n      value: (_vm.queryCondition.roleName),\n      callback: function($$v) {\n        _vm.queryCondition.roleName = $$v\n      },\n      expression: \"queryCondition.roleName\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    attrs: {\n      \"type\": \"flex\",\n      \"justify\": \"end\"\n    }\n  }, [(_vm.buttonVisible['20201']) ? _c('el-col', {\n    attrs: {\n      \"span\": 3\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\",\n      \"icon\": \"delete\"\n    },\n    on: {\n      \"click\": _vm.clearQueryParams\n    }\n  }, [_vm._v(\"清空\")])], 1) : _vm._e(), _vm._v(\" \"), (_vm.buttonVisible['20202']) ? _c('el-col', {\n    attrs: {\n      \"span\": 2\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\",\n      \"icon\": \"search\"\n    },\n    on: {\n      \"click\": _vm.queryRoleList\n    }\n  }, [_vm._v(\"查询\")])], 1) : _vm._e()], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"manage-container\"\n  }, [_c('el-row', {\n    attrs: {\n      \"type\": \"flex\",\n      \"justify\": \"start\"\n    }\n  }, [(_vm.buttonVisible['20203']) ? _c('el-col', {\n    attrs: {\n      \"span\": 2\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\",\n      \"icon\": \"plus\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.dialogAddVisible = true\n      }\n    }\n  }, [_vm._v(\"新增\")])], 1) : _vm._e(), _vm._v(\" \"), (_vm.buttonVisible['20204']) ? _c('el-col', {\n    attrs: {\n      \"span\": 2\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\",\n      \"icon\": \"edit\"\n    },\n    on: {\n      \"click\": _vm.modifyRole\n    }\n  }, [_vm._v(\"修改\")])], 1) : _vm._e(), _vm._v(\" \"), (_vm.buttonVisible['20205']) ? _c('el-col', {\n    attrs: {\n      \"span\": 2\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\",\n      \"icon\": \"delete\"\n    },\n    on: {\n      \"click\": _vm.removeRole\n    }\n  }, [_vm._v(\"删除\")])], 1) : _vm._e(), _vm._v(\" \"), (_vm.buttonVisible['20206']) ? _c('el-col', {\n    attrs: {\n      \"span\": 2\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\",\n      \"icon\": \"minus\"\n    },\n    on: {\n      \"click\": _vm.getMenuPermission\n    }\n  }, [_vm._v(\"权限分配\")])], 1) : _vm._e()], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    ref: \"multipleTable\",\n    attrs: {\n      \"data\": _vm.tableData,\n      \"border\": \"\",\n      \"element-loading-text\": \"拼命加载中\",\n      \"empty-text\": _vm.noTableData\n    },\n    on: {\n      \"selection-change\": _vm.handleSelectionChange\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"角色编号\",\n      \"prop\": \"roleNo\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"角色名称\",\n      \"prop\": \"roleName\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"备注\",\n      \"prop\": \"remark\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"page-container\"\n  }, [_c('el-pagination', {\n    attrs: {\n      \"layout\": \"total, sizes, prev, pager, next, jumper\",\n      \"total\": _vm.total,\n      \"page-size\": _vm.pageSize,\n      \"page-sizes\": [10, 20, 30]\n    },\n    on: {\n      \"current-change\": _vm.handleCurrentChange,\n      \"size-change\": _vm.handleSizeChange\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"新增角色\",\n      \"visible\": _vm.dialogAddVisible,\n      \"close-on-click-modal\": false\n    },\n    on: {\n      \"close\": _vm.clearAddModel,\n      \"update:visible\": function($event) {\n        _vm.dialogAddVisible = $event\n      },\n      \"open\": _vm.openNewAddModal\n    }\n  }, [_c('el-form', {\n    ref: \"addRoleForm\",\n    attrs: {\n      \"inline\": true,\n      \"model\": _vm.addRoleData,\n      \"rules\": _vm.addRoleRules,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"角色编号\",\n      \"prop\": \"roleNo\"\n    }\n  }, [_c('el-input', {\n    on: {\n      \"input\": function($event) {\n        _vm.sendValidateRoleNo('newAdd')\n      }\n    },\n    model: {\n      value: (_vm.addRoleData.roleNo),\n      callback: function($$v) {\n        _vm.addRoleData.roleNo = $$v\n      },\n      expression: \"addRoleData.roleNo\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"polish\",\n    attrs: {\n      \"label\": \"角色名称\",\n      \"prop\": \"roleName\"\n    }\n  }, [_c('el-input', {\n    on: {\n      \"input\": function($event) {\n        _vm.sendValidateRoleName('newAdd')\n      }\n    },\n    model: {\n      value: (_vm.addRoleData.roleName),\n      callback: function($$v) {\n        _vm.addRoleData.roleName = $$v\n      },\n      expression: \"addRoleData.roleName\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"polish\",\n    attrs: {\n      \"label\": \"备注\",\n      \"prop\": \"remark\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.addRoleData.remark),\n      callback: function($$v) {\n        _vm.addRoleData.remark = $$v\n      },\n      expression: \"addRoleData.remark\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleAddRole\n    }\n  }, [_vm._v(\"确 定\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogAddVisible = false\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"修改角色\",\n      \"visible\": _vm.dialogModifyVisible,\n      \"close-on-click-modal\": false\n    },\n    on: {\n      \"close\": _vm.clearModifyModel,\n      \"update:visible\": function($event) {\n        _vm.dialogModifyVisible = $event\n      },\n      \"open\": _vm.openNewAddModal\n    }\n  }, [_c('el-form', {\n    ref: \"modifyRoleForm\",\n    attrs: {\n      \"inline\": true,\n      \"model\": _vm.modifyRoleData,\n      \"rules\": _vm.modifyRoleRules,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"角色编号\",\n      \"prop\": \"roleNo\"\n    }\n  }, [_c('el-input', {\n    on: {\n      \"input\": function($event) {\n        _vm.sendValidateRoleNo('modify')\n      }\n    },\n    model: {\n      value: (_vm.modifyRoleData.roleNo),\n      callback: function($$v) {\n        _vm.modifyRoleData.roleNo = $$v\n      },\n      expression: \"modifyRoleData.roleNo\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"polish\",\n    attrs: {\n      \"label\": \"角色名称\",\n      \"prop\": \"roleName\"\n    }\n  }, [_c('el-input', {\n    on: {\n      \"input\": function($event) {\n        _vm.sendValidateRoleName('modify')\n      }\n    },\n    model: {\n      value: (_vm.modifyRoleData.roleName),\n      callback: function($$v) {\n        _vm.modifyRoleData.roleName = $$v\n      },\n      expression: \"modifyRoleData.roleName\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"polish\",\n    attrs: {\n      \"label\": \"备注\",\n      \"prop\": \"remark\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.modifyRoleData.remark),\n      callback: function($$v) {\n        _vm.modifyRoleData.remark = $$v\n      },\n      expression: \"modifyRoleData.remark\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleModifyRole\n    }\n  }, [_vm._v(\"确 定\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogModifyVisible = false\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    staticClass: \"reset-dialog-width\",\n    attrs: {\n      \"title\": \"删除角色\",\n      \"visible\": _vm.dialogDeleteVisible,\n      \"close-on-click-modal\": false\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogDeleteVisible = $event\n      },\n      \"open\": _vm.openNewAddModal\n    }\n  }, [_c('div', {\n    staticClass: \"el-message-box__status el-icon-warning\"\n  }), _c('p', {\n    staticStyle: {\n      \"padding-left\": \"50px\"\n    }\n  }, [_vm._v(\"确认删除角色？删除角色会级联删除相关的用户权限！\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleRemoveRole\n    }\n  }, [_vm._v(\"确 定\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogDeleteVisible = false\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)]), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"权限分配\",\n      \"visible\": _vm.dialogRightDistributeVisible,\n      \"close-on-click-modal\": false\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogRightDistributeVisible = $event\n      },\n      \"open\": _vm.openNewAddModal\n    }\n  }, [_c('div', {\n    ref: \"permissionDialog\",\n    staticStyle: {\n      \"height\": \"460px\",\n      \"overflow-y\": \"auto\"\n    }\n  }, [_c('el-tree', {\n    ref: \"tree\",\n    attrs: {\n      \"data\": _vm.rightsModifyData,\n      \"show-checkbox\": \"\",\n      \"node-key\": \"id\",\n      \"default-expand-all\": true,\n      \"default-checked-keys\": _vm.checkedKeysData\n    },\n    on: {\n      \"check-change\": _vm.handleRightsModifyChange\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleSetPermission\n    }\n  }, [_vm._v(\"确 定\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogRightDistributeVisible = false\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)])], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"YeM9\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"C2Na\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"0c36b9fc\", content, true);\n\n/***/ }),\n\n/***/ \"uD/V\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = roleListApi;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = addRoleApi;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = validateRoleNoApi;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = validateRoleNameApi;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = modifyRoleApi;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = deleteRoleApi;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = menuPermissionApi;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = setPermissionApi;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_fetch__ = __webpack_require__(\"Vo7i\");\n\n\n// 获取角色列表\nfunction roleListApi(_ref) {\n    var params = _ref.params;\n\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n        url: '/role/list',\n        method: 'post',\n        data: params\n    });\n}\n\n// 添加角色\nfunction addRoleApi(_ref2) {\n    var params = _ref2.params;\n\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n        url: 'role/add',\n        method: 'post',\n        data: params\n    });\n}\n\n// 验证角色编号是否存在\nfunction validateRoleNoApi(_ref3) {\n    var params = _ref3.params;\n\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n        url: 'role/existNo/' + params,\n        method: 'get'\n    });\n}\n\n// 验证角色名称是否存在\nfunction validateRoleNameApi(_ref4) {\n    var params = _ref4.params;\n\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n        url: 'role/existName/' + params,\n        method: 'get'\n    });\n}\n\n// 修改角色\nfunction modifyRoleApi(_ref5) {\n    var params = _ref5.params;\n\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n        url: 'role/modify',\n        method: 'post',\n        data: params\n    });\n}\n\n// 删除角色\nfunction deleteRoleApi(_ref6) {\n    var params = _ref6.params;\n\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n        url: 'role/remove/' + params,\n        method: 'get'\n    });\n}\n\n// 获取角色菜单权限\nfunction menuPermissionApi(_ref7) {\n    var params = _ref7.params;\n\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n        url: 'role/menu/' + params,\n        method: 'get'\n    });\n}\n\n// 设置角色菜单权限\nfunction setPermissionApi(_ref8) {\n    var params = _ref8.params;\n\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n        url: 'role/setPermission',\n        method: 'post',\n        data: params\n    });\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/15.6ac651270f2fbfc47934.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fa38f372\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!./action.js\"/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fa38f372\\\",\\\"hasScoped\\\":false}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/userRoleManage/index.vue\n// module id = +tu9\n// module chunks = 15","import { mapState, mapMutations } from 'vuex';\r\nconst publicMethod = {\r\n    data(){\r\n        return {\r\n            //滚动条高度\r\n            scrollHeight:0,\r\n            queryContainerShrink: false,\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState({\r\n          isCollapse: state => state.app.sidebar.opened\r\n        })\r\n    },\r\n    methods:{\r\n        //遮罩问题\r\n        openNewAddModal() {\r\n            var self = this;\r\n            setTimeout(function(){\r\n                if (!self.isCollapse) {\r\n                    self.$nextTick(() => {\r\n                        document.querySelector('.v-modal').style.left = '36px';\r\n                    }); \r\n                    if(document.querySelector('.v-modal')){\r\n                        document.querySelector('.v-modal').style.left = '36px';\r\n                        $('.el-dialog__wrapper').css('left','36px');\r\n                    } \r\n                }else{\r\n                    if(document.querySelector('.v-modal')){\r\n                        document.querySelector('.v-modal').style.left = '200px';\r\n                        $('.el-dialog__wrapper').css('left','200px');\r\n                    }\r\n                }\r\n                if (document.querySelector('.v-modal')) {\r\n                    self.scrollHeight = $(document).scrollTop();\r\n                    if(self.scrollHeight>=0&&self.scrollHeight<50){\r\n                      document.querySelector('.v-modal').style.top = (50-self.scrollHeight)+'px';\r\n                      $('.el-dialog__wrapper').css('top',(50-self.scrollHeight)+'px');\r\n                    }else{\r\n                      document.querySelector('.v-modal').style.top = '0px';\r\n                      $('.el-dialog__wrapper').css('top','0px');\r\n                    }\r\n                }\r\n            },100)\r\n        },\r\n        shrinkQueryArea(boxHeight) {\r\n            if (this.queryContainerShrink) {\r\n                this.$refs.queryContainer.style.height = boxHeight+'px';\r\n                this.queryContainerShrink = false;\r\n            } else {\r\n                this.$refs.queryContainer.style.height = '60px';\r\n                this.queryContainerShrink = true;\r\n            }\r\n        },\r\n    },\r\n    watch:{\r\n        //遮罩问题\r\n        isCollapse(newValue) {\r\n          if (document.querySelector('.v-modal')) {\r\n              if (newValue) {\r\n                  document.querySelector('.v-modal').style.left = '200px';\r\n                  $('.el-dialog__wrapper').css('left','200px');\r\n              } else {\r\n                  document.querySelector('.v-modal').style.left = '36px';\r\n                  $('.el-dialog__wrapper').css('left','36px');\r\n              }\r\n          }\r\n        },\r\n    },\r\n}\r\nexport default publicMethod;\n\n\n// WEBPACK FOOTER //\n// ./src/utils/publicMethod.js","import { mapGetters } from 'vuex';\n\nconst mixin = {\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'buttonAuth'\n\t\t]),\n\t\tbuttonVisible() {\n\t      var res = {};\n\t      this.buttonAuth.forEach(ele => {\n\t        if (ele.menuParentCode === this.pageId) {\n\t          res[ele.menuCode] = true;\n\t        }\n\t      });\n\t      return res;\n\t    }\n\t},\n\tmounted() {\n\t\t$('.el-dialog').draggable();\n\t}\n}\n\nexport default mixin;\n\n\n// WEBPACK FOOTER //\n// ./src/utils/buttonVisible.js","import {\r\n  roleListApi,\r\n  addRoleApi,\r\n  validateRoleNoApi,\r\n  validateRoleNameApi,\r\n  modifyRoleApi,\r\n  deleteRoleApi,\r\n  menuPermissionApi,\r\n  setPermissionApi\r\n} from '../../api/roleManage';\r\nimport { mapState, mapMutations } from 'vuex';\r\nimport butVisibleMixin from '../../utils/buttonVisible';\r\nimport publicMethod from '../../utils/publicMethod';\r\nexport default {\r\n  name: 'roleManage',\r\n  mixins: [butVisibleMixin, publicMethod],\r\n  data() {\r\n    //验证器：角色编号唯一\r\n    var validateRoleNo = (rule, value, callback) => {\r\n      if (this.roleNoExist) {\r\n        callback('角色编号已存在');\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    //验证器：角色名称唯一\r\n    var validateRoleName = (rule, value, callback) => {\r\n      if (this.roleNameExist) {\r\n        callback('角色名称已存在');\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      //添加角色、修改角色字段验证规则\r\n      addRoleRules: {\r\n        roleNo: [{ validator: validateRoleNo, trigger: 'blur' }, { required: true, message: '请输入角色编号,最多20个字符', min: 1, max: 20, trigger: 'blur' }],\r\n        roleName: [{ validator: validateRoleName, trigger: 'blur' }, { required: true, message: '请输入角色名称,最多20个字符', min: 1, max: 20, trigger: 'blur' }],\r\n        remark: [{ required: false, message: '备注最多50个字符', min: 0, max: 50, trigger: 'blur' }]\r\n      },\r\n      modifyRoleRules: {\r\n        roleNo: [{ validator: validateRoleNo, trigger: 'blur' }, { required: true, message: '请输入角色编号,最多20个字符', min: 1, max: 20, trigger: 'blur' }],\r\n        roleName: [{ validator: validateRoleName, trigger: 'blur' }, { required: true, message: '请输入角色名称,最多20个字符', min: 1, max: 20, trigger: 'blur' }],\r\n        remark: [{ required: false, message: '备注最多50个字符', min: 0, max: 50, trigger: 'blur' }]\r\n      },\r\n      //查询参数model\r\n      queryCondition: {\r\n        roleName: ''\r\n      },\r\n      //添加角色model\r\n      addRoleData: {\r\n        roleNo: '',\r\n        roleName: '',\r\n        remark: ''\r\n      },\r\n      //修改角色model\r\n      modifyRoleData: {\r\n        roleNo: '',\r\n        roleName: '',\r\n        remark: ''\r\n      },\r\n      //角色列表model\r\n      tableData: [],\r\n      //分页model：总数、当前页面\r\n      total: 0,\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      //当前选择的数据集\r\n      multipleSelection: [],\r\n      //角色名称是否存在flag\r\n      roleNameExist: false,\r\n      //角色编号是否存在flag\r\n      roleNoExist: false,\r\n      //是否显示新增窗口\r\n      dialogAddVisible: false,\r\n      //是否显示修改窗口\r\n      dialogModifyVisible: false,\r\n      //是否显示删除窗口\r\n      dialogDeleteVisible: false,\r\n      //是否显示权限分配窗口\r\n      dialogRightDistributeVisible: false,\r\n      //权限数据集\r\n      rightsModifyData: [],\r\n      //默认选择的数据集：角色当前拥有的权限ids\r\n      checkedKeysData: [],\r\n      //菜单列表\r\n      menuList: [],\r\n      pageId: '202',\r\n      dialogVisibles: [\r\n        'dialogAddVisible',\r\n        'dialogModifyVisible',\r\n        'dialogDeleteVisible',\r\n        'dialogRightDistributeVisible'\r\n      ],\r\n      loading: true,\r\n      noTableData: ' '\r\n    }\r\n  },\r\n  //初始化查询角色列表\r\n  created() {\r\n    this.getRoleList(undefined, true);\r\n  },\r\n  methods: {\r\n    //选择事件\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n    //分页栏点击事件\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val;\r\n      this.getRoleList(val);\r\n    },\r\n    //清除新增角色的model\r\n    clearAddModel() {\r\n      this.$refs[\"addRoleForm\"].resetFields();\r\n      for (let key in this.addRoleData) {\r\n        this.addRoleData[key] = '';\r\n      }\r\n      this.roleNameExist = false;\r\n      this.roleNoExist = false;\r\n    },\r\n    //清除新增角色的model\r\n    clearModifyModel() {\r\n      this.$refs[\"modifyRoleForm\"].resetFields();\r\n      for (let key in this.modifyRoleData) {\r\n        this.modifyRoleData[key] = '';\r\n      }\r\n      this.roleNameExist = false;\r\n      this.roleNoExist = false;\r\n    },\r\n    //添加角色\r\n    handleAddRole() {\r\n      this.$refs.addRoleForm.validate((valid) => {\r\n        if (valid) {\r\n          const params = {\r\n            roleNo: this.addRoleData.roleNo,\r\n            roleName: this.addRoleData.roleName,\r\n            remark: this.addRoleData.remark == '' ? null : this.addRoleData.remark\r\n          };\r\n          addRoleApi({ params }).then(res => {\r\n            if (res.errcode === '0000') {\r\n              this.$notify({\r\n                title: '成功',\r\n                message: '添加角色成功',\r\n                type: 'success',\r\n                duration: 1000\r\n              });\r\n              this.dialogAddVisible = false;\r\n              this.getRoleList(this.currentPage);\r\n            }\r\n          });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n\r\n    },\r\n    //修改角色\r\n    modifyRole() {\r\n      if (this.multipleSelection.length < 1) {\r\n        this.showSelectDataMsg();\r\n      } else if (this.multipleSelection.length > 1) {\r\n        this.showSelectMoreDataMsg();\r\n      } else {\r\n        this.modifyRoleData = { ...this.multipleSelection[0] };\r\n        this.dialogModifyVisible = true;\r\n      }\r\n    },\r\n    //修改角色\r\n    handleModifyRole() {\r\n      this.$refs.modifyRoleForm.validate((valid) => {\r\n        if (valid) {\r\n          const params = {\r\n            id: this.modifyRoleData.id,\r\n            roleNo: this.modifyRoleData.roleNo,\r\n            roleName: this.modifyRoleData.roleName,\r\n            remark: this.modifyRoleData.remark\r\n          };\r\n          modifyRoleApi({ params }).then(res => {\r\n            if (res.errcode === '0000') {\r\n              this.$notify({\r\n                title: '成功',\r\n                message: '修改角色成功',\r\n                type: 'success',\r\n                duration: 1000\r\n              });\r\n              this.dialogModifyVisible = false;\r\n              this.getRoleList(this.currentPage);\r\n            }\r\n          });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    //删除角色\r\n    removeRole() {\r\n      if (this.multipleSelection.length < 1) {\r\n        this.showSelectDataMsg();\r\n      } else if (this.multipleSelection.length > 1) {\r\n        this.showSelectMoreDataMsg();\r\n      } else {\r\n        this.dialogDeleteVisible = true;\r\n      }\r\n    },\r\n    //删除角色\r\n    handleRemoveRole() {\r\n      if (this.multipleSelection.length > 0) {\r\n\r\n        const id = this.multipleSelection[0].id;\r\n        if (id == 1 || id == 2) {\r\n          this.$notify({\r\n            title: '提示',\r\n            message: '基础角色，禁止删除',\r\n            type: 'warning',\r\n            duration: 1000\r\n          });\r\n          this.dialogDeleteVisible = false;\r\n          return;\r\n        }\r\n        deleteRoleApi({ params: id }).then(res => {\r\n          if (res.errcode === '0000') {\r\n            this.$notify({\r\n              title: '成功',\r\n              message: '删除角色成功',\r\n              type: 'success',\r\n              duration: 1000\r\n            });\r\n            this.dialogDeleteVisible = false;\r\n            this.getRoleList(this.currentPage);\r\n          }\r\n        });\r\n      } else {\r\n        this.showSelectDataMsg();\r\n      }\r\n    },\r\n\r\n    //获取菜单权限\r\n    getMenuPermission() {\r\n      if (this.multipleSelection.length < 1) {\r\n        this.showSelectDataMsg();\r\n      } else if (this.multipleSelection.length > 1) {\r\n        this.showSelectMoreDataMsg();\r\n      } else {\r\n        const id = this.multipleSelection[0].id;\r\n        menuPermissionApi({ params: id }).then(res => {\r\n          if (res.errcode === '0000') {\r\n            this.dialogRightDistributeVisible = true;\r\n            this.rightsModifyData = [];\r\n            this.rightsModifyData[0] = res.result.menuTree;\r\n\r\n            this.checkedKeysData = res.result.permissionIds;\r\n            this.menuList = res.result.menuList;\r\n            this.$nextTick(function() {\r\n              this.$refs.permissionDialog.scrollTop = 0;\r\n              this.checkedMenu();\r\n            });\r\n          }\r\n        });\r\n\r\n      }\r\n    },\r\n\r\n    //菜单点击事件\r\n    handleRightsModifyChange(data, checked, indeterminate) {},\r\n\r\n    //查找menuId\r\n    findMenuId(menuCode) {\r\n      return this.menuList.filter((item) => {\r\n        return item.code === menuCode;\r\n      })[0].id;\r\n    },\r\n\r\n    //设置用户菜单权限：设置默认值\r\n    checkedMenu() {\r\n      for (var i = 0; i < this.menuList.length; i++) {\r\n        this.$refs.tree.setChecked(this.menuList[i].id, false);\r\n      }\r\n      for (var i = 0; i < this.checkedKeysData.length; i++) {\r\n        this.$refs.tree.setChecked(this.checkedKeysData[i], true);\r\n      }\r\n    },\r\n\r\n    //设置角色权限\r\n    handleSetPermission() {\r\n      const id = this.multipleSelection[0].id;\r\n      const menuIds = this.$refs.tree.getCheckedKeys().join(\",\");\r\n      const params = { roleId: id, menuIds: menuIds };\r\n      setPermissionApi({ params }).then(res => {\r\n        if (res.errcode === '0000') {\r\n          this.$notify({\r\n            title: '成功',\r\n            message: '权限分配成功',\r\n            type: 'success',\r\n            duration: 1000\r\n          });\r\n          this.dialogRightDistributeVisible = false;\r\n          this.getRoleList(this.currentPage);\r\n        }\r\n      });\r\n    },\r\n\r\n    //查询角色列表\r\n    queryRoleList() {\r\n      this.getRoleList();\r\n    },\r\n    handleSizeChange(val) {\r\n      this.pageSize = val;\r\n      this.getRoleList(this.currentPage);\r\n    },\r\n    //获取角色列表\r\n    getRoleList(pageNo, isFirst) {\r\n      const currentPage = pageNo || 1;\r\n      const params = { pageNo: currentPage, pageSize: this.pageSize, roleName: this.queryCondition.roleName || null };\r\n      roleListApi({ params }).then(res => {\r\n        this.total = res.result.totalCount;\r\n        this.tableData = res.result.rows;\r\n        this.loading = false;\r\n        if (isFirst) {\r\n          const whichDialog = this.openModals.find(el => {\r\n            return el.pageId === this.pageId;\r\n          });\r\n          if ( whichDialog && whichDialog.openModal === 'dialogAddVisible') {\r\n            this.addRoleData = whichDialog.data;\r\n            this[whichDialog.openModal] = true;\r\n          } else if (whichDialog) {\r\n            this.$nextTick(() => {\r\n              whichDialog.data.forEach(row => {\r\n                this.$refs.multipleTable.toggleRowSelection(this.tableData.find((ele) => { return ele.id === row.id }));\r\n              });\r\n              if (whichDialog.openModal === 'dialogModifyVisible') {\r\n                this.modifyRole();\r\n              } else if(whichDialog.openModal === 'dialogDeleteVisible') {\r\n                this.removeRole();\r\n              } else if(whichDialog.openModal === 'dialogRightDistributeVisible') {\r\n                this.getMenuPermission();\r\n              }\r\n            })\r\n          }\r\n        }\r\n      });\r\n    },\r\n    //验证角色编号是否重复\r\n    sendValidateRoleNo(type) {\r\n      let roleNo = ''\r\n      if (type === 'newAdd') {\r\n        roleNo = this.addRoleData.roleNo;\r\n      } else {\r\n        roleNo = this.modifyRoleData.roleNo;\r\n        if (roleNo === this.multipleSelection[0].roleNo) {\r\n          this.roleNoExist = false;\r\n          return;\r\n        }\r\n      }\r\n      if (roleNo) {\r\n        validateRoleNoApi({ params: roleNo }).then(res => {\r\n          if (res.result.isExist) {\r\n            this.roleNoExist = true;\r\n          } else {\r\n            this.roleNoExist = false;\r\n          }\r\n        });\r\n      } else {\r\n        this.roleNoExist = false;\r\n      }\r\n\r\n    },\r\n    //验证角色名称是否重复\r\n    sendValidateRoleName(type) {\r\n      let roleName = ''\r\n      if (type === 'newAdd') {\r\n        roleName = this.addRoleData.roleName;\r\n      } else {\r\n        roleName = this.modifyRoleData.roleName;\r\n        if (roleName === this.multipleSelection[0].roleName) {\r\n          this.roleNameExist = false;\r\n          return;\r\n        }\r\n      }\r\n      if (roleName) {\r\n        validateRoleNameApi({ params: roleName }).then(res => {\r\n          if (res.result.isExist) {\r\n            this.roleNameExist = true;\r\n          } else {\r\n            this.roleNameExist = false;\r\n          }\r\n        });\r\n      } else {\r\n        this.roleNameExist = false;\r\n      }\r\n\r\n    },\r\n    //清除查询条件\r\n    clearQueryParams() {\r\n      for (let key in this.queryCondition) {\r\n        this.queryCondition[key] = ''\r\n      }\r\n    },\r\n    //显示未选择数据消息提醒\r\n    showSelectDataMsg() {\r\n      this.$notify({\r\n        title: '提示',\r\n        message: '请选择数据',\r\n        type: 'warning',\r\n        duration: 1000\r\n      });\r\n    },\r\n    //显示选择多条数据消息提醒\r\n    showSelectMoreDataMsg() {\r\n      this.$notify({\r\n        title: '提示',\r\n        message: '只能选择一条数据',\r\n        type: 'warning',\r\n        duration: 1000\r\n      });\r\n    },\r\n    ...mapMutations({\r\n      addOpenModals: 'ADD_OPEN_MODALS',\r\n      removeOpenModals: 'REMOVE_OPEN_MODALS'\r\n    })\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      openModals: state => state.app.openModals\r\n    })\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    const dialogVisible = this.dialogVisibles.find(el => {\r\n      return this[el];\r\n    });\r\n    var data;\r\n    if (dialogVisible) {\r\n      if (dialogVisible === this.dialogVisibles[0]) {\r\n        data = this.addRoleData;\r\n      } else {\r\n        data = this.multipleSelection;\r\n      }\r\n      this.removeOpenModals({ pageId: this.pageId });\r\n      this.addOpenModals({ pageId: this.pageId, openModal: dialogVisible, data});\r\n    } else {\r\n      this.removeOpenModals({ pageId: this.pageId });\r\n    }\r\n    next();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/userRoleManage/action.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".query-container{padding:10px;box-shadow:0 0 4px #ccc;position:relative;overflow:hidden;transition:height .5s}.query-container .query-btn{position:absolute;right:40px;bottom:18px}.query-container .draggable{position:absolute;right:0;bottom:18px;width:30px;height:30px;padding-left:5px;line-height:30px;text-align:center;border:1px solid #ccc;opacity:.5;display:none;border-radius:50%}.query-container:hover .draggable{display:block}.manage-container{margin-top:20px;padding:10px;box-shadow:0 0 4px #ccc}.manage-container .el-dialog_wrapper{left:200px;top:50px}.el-button{width:88px}.el-table{margin-top:20px}.page-container{text-align:right;padding-top:10px}.page-container .el-pagination{padding-right:0}.reset-dialog-width .el-dialog{width:30%}.reset-dialog-width .el-dialog p{text-align:center}.el-dialog__body{margin:20px 0 5px;border-top:1px solid #ccc;border-bottom:1px solid #ccc}.v-modal{transition:all .1s;left:200px;top:50px}.svg-icon{margin-right:5px}.user-role-manage{margin:30px auto 0;width:1120px}.user-role-manage .manage-container .el-col{margin-right:30px}.user-role-manage .el-dialog__wrapper{top:50px;left:200px}\", \"\", {\"version\":3,\"sources\":[\"/Users/liwenhua/Documents/bwton/SourceCode/01.trunk/back-manage/src/views/userRoleManage/index.vue\"],\"names\":[],\"mappings\":\"AACA,iBACE,aAAc,AACd,wBAAyB,AACzB,kBAAmB,AACnB,gBAAiB,AACjB,qBAAuB,CACxB,AACD,4BACI,kBAAmB,AACnB,WAAY,AACZ,WAAa,CAChB,AACD,4BACI,kBAAmB,AACnB,QAAS,AACT,YAAa,AACb,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,iBAAkB,AAClB,kBAAmB,AACnB,sBAAuB,AACvB,WAAa,AACb,aAAc,AACd,iBAAmB,CACtB,AACD,kCACI,aAAe,CAClB,AACD,kBACE,gBAAiB,AACjB,aAAc,AACd,uBAAyB,CAC1B,AACD,qCACI,WAAY,AACZ,QAAU,CACb,AACD,WACE,UAAY,CACb,AACD,UACE,eAAiB,CAClB,AACD,gBACE,iBAAkB,AAClB,gBAAkB,CACnB,AACD,+BACI,eAAiB,CACpB,AACD,+BACE,SAAW,CACZ,AACD,iCACI,iBAAmB,CACtB,AACD,iBACE,kBAAqB,AACrB,0BAA2B,AAC3B,4BAA8B,CAC/B,AACD,SACE,mBAAoB,AACpB,WAAY,AACZ,QAAU,CACX,AACD,UACE,gBAAkB,CACnB,AACD,kBACE,mBAAoB,AACpB,YAAc,CACf,AACD,4CACI,iBAAmB,CACtB,AACD,sCACI,SAAU,AACV,UAAY,CACf\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.query-container {\\n  padding: 10px;\\n  box-shadow: 0 0 4px #ccc;\\n  position: relative;\\n  overflow: hidden;\\n  transition: height .5s;\\n}\\n.query-container .query-btn {\\n    position: absolute;\\n    right: 40px;\\n    bottom: 18px;\\n}\\n.query-container .draggable {\\n    position: absolute;\\n    right: 0;\\n    bottom: 18px;\\n    width: 30px;\\n    height: 30px;\\n    padding-left: 5px;\\n    line-height: 30px;\\n    text-align: center;\\n    border: 1px solid #ccc;\\n    opacity: 0.5;\\n    display: none;\\n    border-radius: 50%;\\n}\\n.query-container:hover .draggable {\\n    display: block;\\n}\\n.manage-container {\\n  margin-top: 20px;\\n  padding: 10px;\\n  box-shadow: 0 0 4px #ccc;\\n}\\n.manage-container .el-dialog_wrapper {\\n    left: 200px;\\n    top: 50px;\\n}\\n.el-button {\\n  width: 88px;\\n}\\n.el-table {\\n  margin-top: 20px;\\n}\\n.page-container {\\n  text-align: right;\\n  padding-top: 10px;\\n}\\n.page-container .el-pagination {\\n    padding-right: 0;\\n}\\n.reset-dialog-width .el-dialog {\\n  width: 30%;\\n}\\n.reset-dialog-width .el-dialog p {\\n    text-align: center;\\n}\\n.el-dialog__body {\\n  margin: 20px 0 5px 0;\\n  border-top: 1px solid #ccc;\\n  border-bottom: 1px solid #ccc;\\n}\\n.v-modal {\\n  transition: all .1s;\\n  left: 200px;\\n  top: 50px;\\n}\\n.svg-icon {\\n  margin-right: 5px;\\n}\\n.user-role-manage {\\n  margin: 30px auto 0;\\n  width: 1120px;\\n}\\n.user-role-manage .manage-container .el-col {\\n    margin-right: 30px;\\n}\\n.user-role-manage .el-dialog__wrapper {\\n    top: 50px;\\n    left: 200px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-fa38f372\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/userRoleManage/index.vue\n// module id = C2Na\n// module chunks = 15","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"user-role-manage\"\n  }, [_c('div', {\n    staticClass: \"query-container\"\n  }, [_c('el-form', {\n    attrs: {\n      \"model\": _vm.queryCondition,\n      \"inline\": true\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"角色名称\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"size\": \"small\"\n    },\n    model: {\n      value: (_vm.queryCondition.roleName),\n      callback: function($$v) {\n        _vm.queryCondition.roleName = $$v\n      },\n      expression: \"queryCondition.roleName\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    attrs: {\n      \"type\": \"flex\",\n      \"justify\": \"end\"\n    }\n  }, [(_vm.buttonVisible['20201']) ? _c('el-col', {\n    attrs: {\n      \"span\": 3\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\",\n      \"icon\": \"delete\"\n    },\n    on: {\n      \"click\": _vm.clearQueryParams\n    }\n  }, [_vm._v(\"清空\")])], 1) : _vm._e(), _vm._v(\" \"), (_vm.buttonVisible['20202']) ? _c('el-col', {\n    attrs: {\n      \"span\": 2\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\",\n      \"icon\": \"search\"\n    },\n    on: {\n      \"click\": _vm.queryRoleList\n    }\n  }, [_vm._v(\"查询\")])], 1) : _vm._e()], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"manage-container\"\n  }, [_c('el-row', {\n    attrs: {\n      \"type\": \"flex\",\n      \"justify\": \"start\"\n    }\n  }, [(_vm.buttonVisible['20203']) ? _c('el-col', {\n    attrs: {\n      \"span\": 2\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\",\n      \"icon\": \"plus\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.dialogAddVisible = true\n      }\n    }\n  }, [_vm._v(\"新增\")])], 1) : _vm._e(), _vm._v(\" \"), (_vm.buttonVisible['20204']) ? _c('el-col', {\n    attrs: {\n      \"span\": 2\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\",\n      \"icon\": \"edit\"\n    },\n    on: {\n      \"click\": _vm.modifyRole\n    }\n  }, [_vm._v(\"修改\")])], 1) : _vm._e(), _vm._v(\" \"), (_vm.buttonVisible['20205']) ? _c('el-col', {\n    attrs: {\n      \"span\": 2\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\",\n      \"icon\": \"delete\"\n    },\n    on: {\n      \"click\": _vm.removeRole\n    }\n  }, [_vm._v(\"删除\")])], 1) : _vm._e(), _vm._v(\" \"), (_vm.buttonVisible['20206']) ? _c('el-col', {\n    attrs: {\n      \"span\": 2\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\",\n      \"icon\": \"minus\"\n    },\n    on: {\n      \"click\": _vm.getMenuPermission\n    }\n  }, [_vm._v(\"权限分配\")])], 1) : _vm._e()], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    ref: \"multipleTable\",\n    attrs: {\n      \"data\": _vm.tableData,\n      \"border\": \"\",\n      \"element-loading-text\": \"拼命加载中\",\n      \"empty-text\": _vm.noTableData\n    },\n    on: {\n      \"selection-change\": _vm.handleSelectionChange\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"角色编号\",\n      \"prop\": \"roleNo\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"角色名称\",\n      \"prop\": \"roleName\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"备注\",\n      \"prop\": \"remark\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"page-container\"\n  }, [_c('el-pagination', {\n    attrs: {\n      \"layout\": \"total, sizes, prev, pager, next, jumper\",\n      \"total\": _vm.total,\n      \"page-size\": _vm.pageSize,\n      \"page-sizes\": [10, 20, 30]\n    },\n    on: {\n      \"current-change\": _vm.handleCurrentChange,\n      \"size-change\": _vm.handleSizeChange\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"新增角色\",\n      \"visible\": _vm.dialogAddVisible,\n      \"close-on-click-modal\": false\n    },\n    on: {\n      \"close\": _vm.clearAddModel,\n      \"update:visible\": function($event) {\n        _vm.dialogAddVisible = $event\n      },\n      \"open\": _vm.openNewAddModal\n    }\n  }, [_c('el-form', {\n    ref: \"addRoleForm\",\n    attrs: {\n      \"inline\": true,\n      \"model\": _vm.addRoleData,\n      \"rules\": _vm.addRoleRules,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"角色编号\",\n      \"prop\": \"roleNo\"\n    }\n  }, [_c('el-input', {\n    on: {\n      \"input\": function($event) {\n        _vm.sendValidateRoleNo('newAdd')\n      }\n    },\n    model: {\n      value: (_vm.addRoleData.roleNo),\n      callback: function($$v) {\n        _vm.addRoleData.roleNo = $$v\n      },\n      expression: \"addRoleData.roleNo\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"polish\",\n    attrs: {\n      \"label\": \"角色名称\",\n      \"prop\": \"roleName\"\n    }\n  }, [_c('el-input', {\n    on: {\n      \"input\": function($event) {\n        _vm.sendValidateRoleName('newAdd')\n      }\n    },\n    model: {\n      value: (_vm.addRoleData.roleName),\n      callback: function($$v) {\n        _vm.addRoleData.roleName = $$v\n      },\n      expression: \"addRoleData.roleName\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"polish\",\n    attrs: {\n      \"label\": \"备注\",\n      \"prop\": \"remark\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.addRoleData.remark),\n      callback: function($$v) {\n        _vm.addRoleData.remark = $$v\n      },\n      expression: \"addRoleData.remark\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleAddRole\n    }\n  }, [_vm._v(\"确 定\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogAddVisible = false\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"修改角色\",\n      \"visible\": _vm.dialogModifyVisible,\n      \"close-on-click-modal\": false\n    },\n    on: {\n      \"close\": _vm.clearModifyModel,\n      \"update:visible\": function($event) {\n        _vm.dialogModifyVisible = $event\n      },\n      \"open\": _vm.openNewAddModal\n    }\n  }, [_c('el-form', {\n    ref: \"modifyRoleForm\",\n    attrs: {\n      \"inline\": true,\n      \"model\": _vm.modifyRoleData,\n      \"rules\": _vm.modifyRoleRules,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"角色编号\",\n      \"prop\": \"roleNo\"\n    }\n  }, [_c('el-input', {\n    on: {\n      \"input\": function($event) {\n        _vm.sendValidateRoleNo('modify')\n      }\n    },\n    model: {\n      value: (_vm.modifyRoleData.roleNo),\n      callback: function($$v) {\n        _vm.modifyRoleData.roleNo = $$v\n      },\n      expression: \"modifyRoleData.roleNo\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"polish\",\n    attrs: {\n      \"label\": \"角色名称\",\n      \"prop\": \"roleName\"\n    }\n  }, [_c('el-input', {\n    on: {\n      \"input\": function($event) {\n        _vm.sendValidateRoleName('modify')\n      }\n    },\n    model: {\n      value: (_vm.modifyRoleData.roleName),\n      callback: function($$v) {\n        _vm.modifyRoleData.roleName = $$v\n      },\n      expression: \"modifyRoleData.roleName\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"polish\",\n    attrs: {\n      \"label\": \"备注\",\n      \"prop\": \"remark\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.modifyRoleData.remark),\n      callback: function($$v) {\n        _vm.modifyRoleData.remark = $$v\n      },\n      expression: \"modifyRoleData.remark\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleModifyRole\n    }\n  }, [_vm._v(\"确 定\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogModifyVisible = false\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    staticClass: \"reset-dialog-width\",\n    attrs: {\n      \"title\": \"删除角色\",\n      \"visible\": _vm.dialogDeleteVisible,\n      \"close-on-click-modal\": false\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogDeleteVisible = $event\n      },\n      \"open\": _vm.openNewAddModal\n    }\n  }, [_c('div', {\n    staticClass: \"el-message-box__status el-icon-warning\"\n  }), _c('p', {\n    staticStyle: {\n      \"padding-left\": \"50px\"\n    }\n  }, [_vm._v(\"确认删除角色？删除角色会级联删除相关的用户权限！\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleRemoveRole\n    }\n  }, [_vm._v(\"确 定\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogDeleteVisible = false\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)]), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"权限分配\",\n      \"visible\": _vm.dialogRightDistributeVisible,\n      \"close-on-click-modal\": false\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogRightDistributeVisible = $event\n      },\n      \"open\": _vm.openNewAddModal\n    }\n  }, [_c('div', {\n    ref: \"permissionDialog\",\n    staticStyle: {\n      \"height\": \"460px\",\n      \"overflow-y\": \"auto\"\n    }\n  }, [_c('el-tree', {\n    ref: \"tree\",\n    attrs: {\n      \"data\": _vm.rightsModifyData,\n      \"show-checkbox\": \"\",\n      \"node-key\": \"id\",\n      \"default-expand-all\": true,\n      \"default-checked-keys\": _vm.checkedKeysData\n    },\n    on: {\n      \"check-change\": _vm.handleRightsModifyChange\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleSetPermission\n    }\n  }, [_vm._v(\"确 定\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogRightDistributeVisible = false\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)])], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-fa38f372\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/userRoleManage/index.vue\n// module id = EHeC\n// module chunks = 15","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fa38f372\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"0c36b9fc\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-fa38f372\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/userRoleManage/index.vue\n// module id = YeM9\n// module chunks = 15","import fetch from '@/utils/fetch';\r\n\r\n// 获取角色列表\r\nexport function roleListApi({ params }) {\r\n    return fetch({\r\n        url: '/role/list',\r\n        method: 'post',\r\n        data: params\r\n    });\r\n}\r\n\r\n// 添加角色\r\nexport function addRoleApi({ params }) {\r\n    return fetch({\r\n        url: 'role/add',\r\n        method: 'post',\r\n        data: params\r\n    });\r\n}\r\n\r\n// 验证角色编号是否存在\r\nexport function validateRoleNoApi({ params }) {\r\n    return fetch({\r\n        url: `role/existNo/${params}`,\r\n        method: 'get'\r\n    });\r\n}\r\n\r\n// 验证角色名称是否存在\r\nexport function validateRoleNameApi({ params }) {\r\n    return fetch({\r\n        url: `role/existName/${params}`,\r\n        method: 'get'\r\n    });\r\n}\r\n\r\n// 修改角色\r\nexport function modifyRoleApi({ params }) {\r\n    return fetch({\r\n        url: 'role/modify',\r\n        method: 'post',\r\n        data: params\r\n    });\r\n}\r\n\r\n// 删除角色\r\nexport function deleteRoleApi({ params }) {\r\n    return fetch({\r\n        url: `role/remove/${params}`,\r\n        method: 'get'\r\n    });\r\n}\r\n\r\n// 获取角色菜单权限\r\nexport function menuPermissionApi({ params }) {\r\n    return fetch({\r\n        url: `role/menu/${params}`,\r\n        method: 'get'\r\n    });\r\n}\r\n\r\n// 设置角色菜单权限\r\nexport function setPermissionApi({ params }) {\r\n    return fetch({\r\n        url: 'role/setPermission',\r\n        method: 'post',\r\n        data: params\r\n    });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/roleManage.js"],"sourceRoot":""}